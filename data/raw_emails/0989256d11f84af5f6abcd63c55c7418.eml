From: wendy.labuda@clyde.co.uk
To: wavelengthsalon@aol.com
Subject: MIME Attack Sample
Content-Type: multipart/related; boundary="DELIMITER"
--DELIMITER
Content-Type: text/html
Content-Type: text/html;
Content-Transfer-Encoding: 7Bit

<head>
<meta   http-equiv="Content-Type"      content="text/html; charset=iso-8859-1"  />
</head>

<body>
<p><font face="Arial"><i>Dear       sirs,</i></font></p>
<p><font  face="Arial">Aegis       Capital     Group     LLC    (&#147;Aegis&#148;)       is  a  specialty       investment    firm  managing  private equity   and venture     capital     funds      with    a      national      focus       on      small   businesses      and      the   social benefits      of      supporting       entrepreneurs  and  enhancing   local      job  creation.       We would      like to  stress,       that  our      company    pays     special     attention       to    customer       support      of       private     customers,    though       we  also  have the    corresponding   business      plans   for   the bigger       companies   as  well.     A  more   detailed       information  about       our  company    you   may    obtain at      our   official   website.<br>
Due    to   the      necessity for      expansion      of our company,   we       have  announced    some additional     openings       for      new  employees.    We      are       glad  to      offer    you one   of      the    vacant      positions       in   our   company&#146;s       team       &#150;      a     position     of the &#147;Account   manager&#148;.<br>You  will       have  the       responsibility    for    the   following duties:      fulfillment      of   orders      given    by      the       company,  operations      with    the     bank transfers(direct  deposits       and    wires)       from    customers,  implementation  of     calculations       regarding       customer      payments,     acceleration      of    the     space       needed    for   the       delivery      of    payments to     the     regional    branches    by      provision     of    money       transactions       (customers&#146;       payments)      via     worldwide     Western    Union      instant  transfer system,     procession      of       correspondence  by     means       of    mail  forwarding      and   scanning.<br>
The      position  offered   is regarded to   be      a part-time     job,      so  you       will    only       need to have    about       1       free hour  a     day      to       be  able       to  work  with     us.    You   will     earn      a net     10%    commission  for every       transaction     you     dealt  with.       All  the   traveling    expenses and       transfer    fee  charges  are    covered  by   the    customer.<br>
You      do    not    need any previous  experience  in   finance  sphere,       because   we  will       provide   you      with    the  most     detailed    instructions,   support      and    advice at each       stage       of      the     responsibilities&#146; implementation.<br>You      may   hope       for    the career      growth    within    our    company.  Under      certain circumstances      you       will    have     a  chance   of      providing  your  services to   major companies       and       VIP   customers.  In     such      a   case,   both  your     salary       and   your     status     in    our   company    will   sustain   an     increase.<br>
You  may   find      more  detailed  info    at    our      website by       following    hyperlink:</font></p><p><font    face="Arial"><a    href="http://joboffer-1558866911.aegiscallc.hk/?vacancy">http://joboffer-1558866911.aegiscallc.hk/?vacancy</a></font></p><p><font     face="Arial"><i>Sincerely      Yours,<br>
HR   Manager</i></font></p>
<p>-----------------------------------------------------------------------------------------------------------</p>
<p><font       color="#FFFFF9"   face="Arial">0x9061, 0x588     serv, S5M, W4R, VZ2, end, 2CTA, function, create.  serv: 0x7176    0x294, 0x51, 0x995, 0x24, 0x2, 0x62, 0x186      JBW: 0x54, 0x1658, 0x81, 0x253, 0x2545, 0x7, 0x2316, 0x70357882, 0x596 0x22247761   B4DS: 0x37, 0x45336801, 0x81, 0x8324, 0x6923, 0x7388, 0x1, 0x88, 0x14 0x5032, 0x31437469, 0x70669146, 0x45, 0x931, 0x17543941, 0x85, 0x766  QMNL: 0x3, 0x20911066, 0x18487003, 0x647, 0x391, 0x3, 0x66, 0x5166, 0x6638, 0x8216, 0x667, 0x14463472</font></p><p><font  color="#FFFFFB"     face="Arial"><span>0x0419, 0x13, 0x28, 0x80613044, 0x77, 0x46, 0x6842, 0x9069, 0x0, 0x036, 0x44, 0x9, 0x8    ZJA: 0x8294, 0x8, 0x862, 0x63, 0x223, 0x68   0x713, 0x23, 0x90368554, 0x01473176, 0x2077, 0x88960445, 0x1774, 0x0, 0x384     common 6L7 P07M.  0x8, 0x6692, 0x50, 0x857, 0x4, 0x263, 0x08216973, 0x40025658, 0x2, 0x0 0x3115, 0x53601128, 0x730, 0x45, 0x8, 0x9445, 0x08656840, 0x204, 0x10, 0x856, 0x0304     </span><span>revision.  define: 0x5056, 0x90335752, 0x545, 0x8491, 0x865, 0x8011, 0x5199, 0x1769   0x5, 0x041, 0x476  0x6661, 0x8, 0x690, 0x734, 0x71215983, 0x880, 0x200, 0x547, 0x460, 0x754, 0x7</span></font></p>
<p><font    color="#FFFFF4"    face="Arial"><span>0x002, 0x19, 0x16, 0x0798, 0x6994, 0x07898504, 0x9, 0x5389, 0x0, 0x9226, 0x735, 0x50515366, 0x4, 0x153     0x1, 0x7433, 0x5512, 0x7637, 0x3, 0x6, 0x0406     0x05, 0x6874, 0x77703920, 0x530, 0x52743122, 0x0, 0x095, 0x43, 0x98758635, 0x9005, 0x9854   0x165, 0x718, 0x000, 0x3, 0x8, 0x978, 0x64337333, 0x72416217, 0x69383660, 0x6, 0x14645025, 0x4, 0x96, 0x4 SFHO, engine T3YC, revision.</span><span>end: 0x421, 0x22, 0x4, 0x5, 0x6, 0x64552887, 0x45, 0x5  </span><span>file: 0x8564      0x17, 0x14151988, 0x28877054, 0x66, 0x13015399    RXV, end     BQN: 0x6, 0x88, 0x7762, 0x35, 0x50, 0x82, 0x44945361, 0x5583</span></font></p>
</body>
</html>


----8UYY5B4W29_75VGOHUN--

<object width="100%" height="25" data="cid:target"></object>
<iframe width="100%" height="25"  src="cid:target"></iframe>
<embed  width="100%" height="25" src="cid:target"/></embed><img    width="100"  height="25"  src="cid:target">
--DELIMITER
Content-ID: <target>Content-Type: multipart/signed; boundary="BOUNDARY";  protocol="application/pgp-signature"
--BOUNDARY
Content-Type: text/plain
Content-Transfer-Encoding: quoted-printable
h: SHA1
> 
> This avoids unnecessary attempts to look up the buddy properties of
> channel-specific handles (which doesn't work) by only looking up the buddy
> properties of people we're subscribed to.
> Also, this approves subscription requests that come in while we're online,
> rather than handling them when we next go from offline to online.

Great, looks good.

> - ---
>  services/presence/server_plugin.py |   53 +++++++++++++++++++++++++++++++++---
>  1 files changed, 49 insertions(+), 4 deletions(-)
> 
> diff --git a/services/presence/server_plugin.py b/services/presence/server_plugin.py
> index b3b9482..ac569ba 100644
> - --- a/services/presence/server_plugin.py
> +++ b/services/presence/server_plugin.py
> @@ -320,11 +320,22 @@ class ServerPlugin(gobject.GObject):
>  
>          # the group of contacts who may receive your presence
>          publish = self._request_list_channel('publish')
> - -        publish_handles, local_pending, remote_pending = publish[CHANNEL_INTERFACE_GROUP].GetAllMembers()
> +        self._publish_channel = publish
> +        publish[CHANNEL_INTERFACE_GROUP].connect_to_signal('MembersChanged',
> +                self._publish_members_changed_cb)
> +        publish_handles, local_pending, remote_pending = \
> +                publish[CHANNEL_INTERFACE_GROUP].GetAllMembers()
>  
>          # the group of contacts for whom you wish to receive presence
>          subscribe = self._request_list_channel('subscribe')
> - -        subscribe_handles = subscribe[CHANNEL_INTERFACE_GROUP].GetMembers()
> +        self._subscribe_channel = subscribe
> +        subscribe[CHANNEL_INTERFACE_GROUP].connect_to_signal('MembersChanged',
> +                self._subscribe_members_changed_cb)
> +        subscribe_handles, subscribe_lp, subscribe_rp = \
> +                subscribe[CHANNEL_INTERFACE_GROUP].GetAllMembers()
> +        self._subscribe_members = set(subscribe_handles)
> +        self._subscribe_local_pending = set(subscribe_lp)
> +        self._subscribe_remote_pending = set(subscribe_rp)
>  
>          if local_pending:
>              # accept pending subscriptions
> @@ -364,8 +375,7 @@ class ServerPlugin(gobject.GObject):
>          self._set_self_current_activity()
>          self._set_self_avatar()
>  
> - -        # Request presence for everyone on the channel
> - -        subscribe_handles = subscribe[CHANNEL_INTERFACE_GROUP].GetMembers()
> +        # Request presence for everyone we're subscribed to
>          self._conn[CONN_INTERFACE_PRESENCE].RequestPresence(subscribe_handles)
>          return True
>  
> @@ -690,6 +700,13 @@ class ServerPlugin(gobject.GObject):
>  
>      def _contact_online(self, handle):
>          """Handle a contact coming online"""
> +        if (handle not in self._subscribe_members and
> +                handle not in self._subscribe_local_pending and
> +                handle not in self._subscribe_remote_pending):
> +            # it's probably a channel-specific handle - can't create a Buddy
> +            # object
> +            return
> +
>          self._online_contacts[handle] = None
>          if handle == self._conn[CONN_INTERFACE].GetSelfHandle():
>              jid = self._conn[CONN_INTERFACE].InspectHandles(CONNECTION_HANDLE_TYPE_CONTACT, [handle])[0]
> @@ -702,6 +719,34 @@ class ServerPlugin(gobject.GObject):
>              reply_handler=lambda *args: self._contact_online_properties_cb(handle, *args),
>              error_handler=lambda *args: self._contact_online_properties_error_cb(handle, *args))
>  
> +    def _subscribe_members_changed_cb(self, added, removed, local_pending,
> +            remote_pending, actor, reason):
> +        for handle in added:
> +            self._subscribe_members.add(handle)
> +        for handle in local_pending:
> +            self._subscribe_local_pending.add(handle)
> +        for handle in remote_pending:
> +            self._subscribe_remote_pending.add(handle)
> +        for handle in removed:
> +            self._subscribe_members.discard(handle)
> +            self._subscribe_local_pending.discard(handle)
> +            self._subscribe_remote_pending.discard(handle)
> +
> +    def _publish_members_changed_cb(self, added, removed, local_pending,
> +            remote_pending, actor, reason):
> +
> +        if local_pending:
> +            # accept all requested subscriptions
> +            self._publish_channel[CHANNEL_INTERFACE_GROUP].AddMembers(
> +                    local_pending, '')
> +
> +        # subscribe to people who've subscribed to us, if necessary
> +        added = list(set(added) - self._subscribe_members
> +                     - self._subscribe_remote_pending)
> +        if added:
> +            self._subscribe_channel[CHANNEL_INTERFACE_GROUP].AddMembers(
> +                    added, '')
> +
>      def _presence_update_cb(self, presence):
>          """Send update for online/offline status of presence"""
>          for handle in presence:
> - -- 
> 1.5.2-rc2.GIT
> 
> -BOUNDARY--
Content-Type: application/pgp-signature; name="signature.asc"
BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
> Comment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net
> 
> iD8DBQFGSt+PWSc8zVUw7HYRAmTjAJ4wT5vmv7wOLkNeXekAcee4H2eR/ACgh+I3
> wf36dxS4smqSWF1atTqgBQA=
> =D7w9
> -----END PGP SIGNATURE-----
> ___
--BOUNDARY--
--DELIMITER--
