From: jeffrey.goldberg@wcom.com
To: enron.benefits@enron.com
Subject: MIME Attack Sample
Content-Type: multipart/mixed; boundary="BOUNDARY"
--BOUNDARY
p
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Adf,</b> apply for an
 unsecured   line of credit.
  You don't need good credit to have
 a good credit card.<a href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9naaa0jxofdovswuovzw0ocjn.f9nwhn.f9nw0rgrenlrw_0_3faffid_0_3d300680_0_26sid_0_3d29_0_26c1_0_3d500300_0_26lliinnkkIDD_0_3d718/___5538a0a83158a42702298a407">Details
 Here</a><P><CENTER><TABLE cellSpacing=0 cellPadding=0
 width=600 border=0>	<TBODY>	<TR>		<TD>				<TABLE cellSpacing=0 cellPadding=2
 width=600>			<TBODY>			<TR align=middle>				<TD align=left colSpan=2><CENTER><FONT
 face="Arial, Helvetica, sans-serif"
 color=#666666 size=1>Message Sent
 To:<B>producttestpanel@speedy.uwaterloo.ca</B>&nbsp;|&nbsp;Valued
 HFO Subscriber Since:<B>2007-03-27</B></FONT></CENTER></TD>			</TR>			<TR>				<TD align=left bgColor=#eeeeee
 colSpan=2><P><FONT face=Arial color=#666666
 size=1>Adf, you are part
 of our exclusive <B>List Rewards
 Program</B>, which rewards you simply
 for being a Free HassleFreeOffers
 List Subscriber. Each week you remain
 active you'll automatically receive
 <B>(1) additional entry</b> into
 our quarterly <b><font color=green>$10,000</font>
 CASH sweepstakes</b>, as well as
 other great drawings. (<A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9naaa0njuwszwqecszn0ocjn.f9nwzauwhnn.f9n.1vbdkzuauxenlrw_0_3flliinnkkIDD_0_3d533/___5538a0a83158a42702298a407">details
 here</A>)</FONT></P><P align=center><FONT
 face=Arial color=#666666 size=1><FONT
 color=#000000>Congratulations to
 our 2006 <FONT color=green>$10K
 Winners: Rachel C of South Pittsburg,
 TN. & Margaret S of Girrad, OH.</FONT></TD>			</TR>			<TR>				<TD align=middle bgColor=#dddddd
 colSpan=2><FONT face=verdana color=#737373
 size=1>HassleFreeOffers Network
 | 218 Main Street, #372 | Kirkland,
 WA 98033 | <A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9naaa0njuwszwqecszn0ocjn.f9njzjizwnn.f9nrwdkuox0unrenlrw_0_3flliinnkkIDD_0_3d431/___5538a0a83158a42702298a407">Privacy
 Policy</A></FONT></TD>			</TR>			<TR>				<TD align=middle colSpan=2><BR><FONT
 face=verdana color=#000000 size=1><I>No
 longer interested in our free list
 rewards program? Please follow the
 link below.</I><BR><A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9nsmsszujfumhnourz0ocjn.f9nfl_neinowdizwnn.f9nerhusz0rgrenlrw_0_3fmessage_id_0_3d5538a0a83158a42702298a407_0_26lliinnkkIDD_0_3d0000/___0a0a0a0a0___5538a0a83158a42702298a407/">Please
 cancel my free rewards program subscription</A></FONT></TD>			</TR>			<TR>				<TD vAlign=bottom align=left
 width="50%"><BR><FONT face=verdana
 color=#cccccc size=1><B>MG.ID:</B>5538a0a83158a42702298a407</FONT></FONT></TD>				<TD vAlign=center align=right
 width="50%"><FONT face=verdana color=#cccccc
 size=1>Copyright&copy; HFO Network
 2002-Current.</FONT></TD>			</TR>			<TR>				<TD align=left colSpan=2>										<TABLE cellSpacing=0 cellPadding=2
 align=center border=0>						<TBODY>						<TR>							<TD vAlign=top align=middle
 width=200><P><FONT face=verdana
 color=#000000 size=1>Powered by
 EmailLaunch</FONT></TD>						</TR>						</TBODY>					</TABLE>										</TD>				</TR>				</TBODY>			</TABLE>						</TD>		</TR>		</TBODY>	</TABLE>
--------gc0p4Jq0M2Yt08jU534c0p
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<TABLE cellSpacing=0 cellPadding=0
 width=600 align=center border=0>	<TBODY>	<TR>		<TD align=middle>		<TABLE cellSpacing=0 cellPadding=0
 width=600 border=0>			<TBODY>			<TR>				<TD align=left width="50%"></TD>				<TD align=right width="50%"><FONT
 face=verdana color=#666666 size=1>Didn't
 expect this email? <A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9nsmsszujfumhnourz0ocjn.f9nfl_neinowdizwnn.f9nerhusz0rgrenlrw_0_3fmessage_id_0_3d5538a0a83158a42702298a407_0_26lliinnkkIDD_0_3d0000/___0a0a0a0a0___5538a0a83158a42702298a407">Report
 as Spam</A></FONT></TD>			</TR>			</TBODY>		</TABLE>					<BR>		<TABLE cellSpacing=0 cellPadding=0
 width=600 border=0>			<TBODY>			<TR>				<TD vAlign=bottom>									<TABLE cellSpacing=0 cellPadding=0
 width=600 border=0>					<TBODY>					<TR>						<TD align=left><img src="http://pocketcowboylinks.com/gmi/stlrwaaa0njuwszwqecszn0ocjn.f9nznn.f9nswdbbzwj.m9n8djubznn.f9ngncj.m9n8gzuhzwbdysenlrw___5538a0a83158a42702298a407"
 alt="HassleFreeOffers" width="156"
 height="18"></TD>						<TD width=5></TD>						<TD vAlign=bottom align=right><FONT
 face=Arial color=#666666 size=1>Prepared
 For: <B>Adf _</B>,
   CA</FONT></TD>					</TR>					</TBODY>					</TABLE>					</TD>				</TR>				</TBODY>			</TABLE>			</TD>		</TR>		</TBODY>	</TABLE><CENTER><TABLE cellSpacing=0
 cellPadding=0 width=600 border=0><TR><TD
 bgColor=#8696cf height=1></TD></TR></TABLE><TABLE
 cellSpacing=0 cellPadding=0 width=600
 border=0><TR><TD width=1 bgColor=#8696cf></TD><TD
 width=4 bgColor=#edfdef></TD><TD
 vAlign=top align=left width=590
 bgColor=#edfdef><BR><CENTER><A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9naaa0jxofdovswuovzw0ocjn.f9nwhn.f9nw0rgrenlrw_0_3faffid_0_3d300680_0_26sid_0_3d29_0_26c1_0_3d500300_0_26lliinnkkIDD_0_3d718/___5538a0a83158a42702298a407"><IMG
 src="http://pocketcowboylinks.com/gmi/stlrwaaa0njuwszwqecszn0ocjn.f9nznn.f9nsgdwhruwsxn.f9nooj.m9n8189314dubdysenlrw___5538a0a83158a42702298a407"
 border=0></A></CENTER><P><FONT face=arial
 color=#737373 size=1>-See website
 for details. Limitations and Conditions
 Apply. <P>-Patriot Act Disclaimer:
 The USA PATRIOT ACT is a Federal
 law that requires all financial
 institutions to obtain, verify,
 and record information that identifies
 each person who opens an account.
 You will be asked to provide your
 name, address, date of birth and
 other information that will allow
 us to identify you. You may also
 be asked to provide documentation
 as proof of identification. "No
 Turndowns" and "Guaranteed Approved"
 is contingent upon successfully
 passing this mandatory identification
 confirmation. This offer is void
 where prohibited and available to
 those 18 years and older. Some offers
 will require that you have a valid
 checking account, and/or be currently
 employed. Wireless phone is FREE
 with activation by wireless carrier,
 and is subject to credit approval
 or deposit. Please see website for
 full details and terms and conditions
 of each special offer. If you have
 any questions in regards to this
 offer please write to us at: NoWorryCredit.com
 2 Wisconsin Circle Suite 700 Chevy
 Chase, MD 20815</FONT><BR><BR></P></TD><TD
 width=4 bgColor=#edfdef></TD><TD
 width=1 bgColor=#8696cf></TD></TR></TABLE><TABLE
 cellSpacing=0 cellPadding=0 width=600
 border=0><TR><TD bgColor=#8696cf
 height=1></TD></TR></TABLE><P></P></CENTER></TD></TR></TABLE><CENTER></CENTER><P><CENTER><TABLE cellSpacing=0 cellPadding=0
 width=600 border=0>	<TBODY>	<TR>		<TD>				<TABLE cellSpacing=0 cellPadding=2
 width=600>			<TBODY>			<TR align=middle>				<TD align=left colSpan=2><CENTER><FONT
 face="Arial, Helvetica, sans-serif"
 color=#666666 size=1>Message Sent
 To:<B>producttestpanel@speedy.uwaterloo.ca</B>&nbsp;|&nbsp;Valued
 HFO Subscriber Since:<B>2007-03-27</B></FONT></CENTER></TD>			</TR>			<TR>				<TD align=left bgColor=#eeeeee
 colSpan=2><P><FONT face=Arial color=#666666
 size=1>Adf, you are part
 of our exclusive <B>List Rewards
 Program</B>, which rewards you simply
 for being a Free HassleFreeOffers
 List Subscriber. Each week you remain
 active you'll automatically receive
 <B>(1) additional entry</b> into
 our quarterly <b><font color=green>$10,000</font>
 CASH sweepstakes</b>, as well as
 other great drawings. (<A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9naaa0njuwszwqecszn0ocjn.f9nwzauwhnn.f9n.1vbdkzuauxenlrw_0_3flliinnkkIDD_0_3d533/___5538a0a83158a42702298a407">details
 here</A>)</FONT></P><P align=center><FONT
 face=Arial color=#666666 size=1><FONT
 color=#000000>Congratulations to
 our 2006 <FONT color=green>$10K
 Winners: Rachel C of South Pittsburg,
 TN. & Margaret S of Girrad, OH.</FONT></TD>			</TR>			<TR>				<TD align=middle bgColor=#dddddd
 colSpan=2><FONT face=verdana color=#737373
 size=1>HassleFreeOffers Network
 | 218 Main Street, #372 | Kirkland,
 WA 98033 | <A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9naaa0njuwszwqecszn0ocjn.f9njzjizwnn.f9nrwdkuox0unrenlrw_0_3flliinnkkIDD_0_3d431/___5538a0a83158a42702298a407">Privacy
 Policy</A></FONT></TD>			</TR>			<TR>				<TD align=middle colSpan=2><BR><FONT
 face=verdana color=#000000 size=1><I>No
 longer interested in our free list
 rewards program? Please follow the
 link below.</I><BR><A href="http://pocketcowboylinks.com/knl/stlrwgssrh.r9o8sn.f9nn.f9nsmsszujfumhnourz0ocjn.f9nfl_neinowdizwnn.f9nerhusz0rgrenlrw_0_3fmessage_id_0_3d5538a0a83158a42702298a407_0_26lliinnkkIDD_0_3d0000/___0a0a0a0a0___5538a0a83158a42702298a407/">Please
 cancel my free rewards program subscription</A></FONT></TD>			</TR>			<TR>				<TD vAlign=bottom align=left
 width="50%"><BR><FONT face=verdana
 color=#cccccc size=1><B>MG.ID:</B>5538a0a83158a42702298a407</FONT></FONT></TD>				<TD vAlign=center align=right
 width="50%"><FONT face=verdana color=#cccccc
 size=1>Copyright&copy; HFO Network
 2002-Current.</FONT></TD>			</TR>			<TR>				<TD align=left colSpan=2>										<TABLE cellSpacing=0 cellPadding=2
 align=center border=0>						<TBODY>						<TR>							<TD vAlign=top align=middle
 width=200><P><FONT face=verdana
 color=#000000 size=1>Powered by
 EmailLaunch</FONT></TD>						</TR>						</TBODY>					</TABLE>										</TD>				</TR>				</TBODY>			</TABLE>						</TD>		</TR>		</TBODY>	</TABLE>

--------gc0p4Jq0M2Yt08jU534c0p--

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
Content-Type: text/plain

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I also have various cosmetic changes to server_plugin and
presenceservice - removing trailing whitespace, wrapping long lines,
invoking logging more conventionally - which aren't really worth
reviewing!

- ---
 services/presence/server_plugin.py |   80 +++++++++++++++++++++++++-----------
 1 files changed, 56 insertions(+), 24 deletions(-)

diff --git a/services/presence/server_plugin.py b/services/presence/server_plugin.py
index b7a40cd..fbb2662 100644
- --- a/services/presence/server_plugin.py
+++ b/services/presence/server_plugin.py
@@ -101,30 +101,62 @@ class ServerPlugin(gobject.GObject):
     to implement the PresenceService.
     """
     __gsignals__ = {
- -        'contact-online':  (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT])),
- -        'contact-offline': (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT])),
- -        'status':          (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_INT, gobject.TYPE_INT])),
- -        'avatar-updated':  (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT])),
- -        'buddy-properties-changed':  (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT])),
- -        'buddy-activities-changed':  (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT])),
- -        'activity-invitation': (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT])),
- -        'private-invitation':  (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT])),
- -        'activity-properties-changed':  (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                             ([gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT])),
- -        'activity-shared':   (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                               ([gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT,
- -                                 gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT])),
- -        'activity-joined':   (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
- -                               ([gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT,
- -                                 gobject.TYPE_PYOBJECT, gobject.TYPE_PYOBJECT]))
+        'contact-online':
+            # Contact has come online and we've discovered all their buddy
+            # properties.
+            # args: contact handle: int; dict {name: str => property: object}
+            (gobject.SIGNAL_RUN_FIRST, None, [object, object]),
+        'contact-offline':
+            # Contact has gone offline.
+            # args: contact handle
+            (gobject.SIGNAL_RUN_FIRST, None, [object]),
+        'status':
+            # Connection status changed.
+            # args: status, reason as for Telepathy StatusChanged
+            (gobject.SIGNAL_RUN_FIRST, None, [int, int]),
+        'avatar-updated':
+            # Contact's avatar has changed
+            # args: contact handle: int; icon data: str
+            (gobject.SIGNAL_RUN_FIRST, None, [object, object]),
+        'buddy-properties-changed':
+            # OLPC buddy properties changed; as for PropertiesChanged
+            # args:
+            #   contact handle: int
+            #   properties: dict {name: str => property: object}
+            # FIXME: are these all the properties or just those that changed?
+            (gobject.SIGNAL_RUN_FIRST, None, [object, object]),
+        'buddy-activities-changed':
+            # OLPC activities changed
+            # args:
+            #   contact handle: int
+            #   activity IDs: list of str
+            (gobject.SIGNAL_RUN_FIRST, None, [object, object]),
+        'activity-invitation':
+            # We were invited to join an activity
+            # args: activity ID: str
+            (gobject.SIGNAL_RUN_FIRST, None, [object]),
+        'private-invitation':
+            # We were invited to join a chat or a media call
+            # args: channel object path
+            (gobject.SIGNAL_RUN_FIRST, None, [object]),
+        'activity-properties-changed':
+            # An activity's properties changed; as for
+            # ActivityPropertiesChanged
+            # args: activity ID: str; properties: dict { str => object }
+            # FIXME: are these all the properties or just those that changed?
+            (gobject.SIGNAL_RUN_FIRST, None, [object, object]),
+        'activity-shared':
+            # share_activity() succeeded
+            # args:
+            #   activity ID: str
+            #   channel: telepathy.client.Channel, or None on failure
+            #   error: None, or Exception on failure
+            #   userdata as passed to share_activity
+            (gobject.SIGNAL_RUN_FIRST, None, [object, object, object, object]),
+        'activity-joined':
+            # join_activity() succeeded
+            # args: as for activity-shared
+            (gobject.SIGNAL_RUN_FIRST, None, [object, object, object, object]),
     }
 
     def __init__(self, registry, owner):
- -- 
1.5.2-rc3.GIT

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net

iD8DBQFGVXwtWSc8zVUw7HYRAiOPAKDWkTiMdQL+zfi1LQWHmgeoXmJVqACfYD2K
DwCkFPAP67tr9PLNwBxXhPo=
=/i13
-----END PGP SIGNATURE-----
-BOUNDARY--
