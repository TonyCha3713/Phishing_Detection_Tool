Return-Path: <test@attack.com>
From: pattiebaker@test.carlsontravel.com
To: shelley.corman@enron.com, mary.miller@enron.com
Subject: Payflow Account Alert
Message-Id: <20110622170640.8843123201D@mail.monkey.org>
Status: O
X-Status: 
X-Keywords:                  
X-UID: 2176

This is a multi-part message in MIME format.

--_----------=_130876876119937227
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
Content-Type: text/plain

Payflow Pro Alert

Your online account has expired, and you need to renew your information.
Please download your login page, and continue the renewal process.


$serviceID: B3JA1TWCJHRWNR07JHJ4TUC3K2P77AE3UT6S0WF
--_----------=_130876876119937227
Content-Disposition: inline; filename="payflow_301NYQNT.html"
Content-Transfer-Encoding: base64
Content-Type: html; name="payflow_301NYQNT.html"

PGh0bWw+CjxoZWFkPgoJPHRpdGxlPlBheVBhbCBNYW5hZ2VyPC90aXRsZT4KCTxtZXRhIGh0dHAt
ZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PWlzby04ODU5
LTEiIC8+CiAgICA8IS0tIFBheWZsb3ctQnVpbGQtSUQgOiBQRi1JU08tNjZfaW50LTAwMTQgLS0+
CgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9tYW5hZ2VyLnBheXBhbC5jb20vc3R5bGVzaGVldC9t
ZW51LmNzcyIgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgLz4KICAgIDxsaW5rIGhy
ZWY9Imh0dHBzOi8vbWFuYWdlci5wYXlwYWwuY29tL3N0eWxlc2hlZXQvc2Vjb25kTmF2LmNzcyIg
cmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgLz4KICAgIDxsaW5rIGhyZWY9Imh0dHBz
Oi8vbWFuYWdlci5wYXlwYWwuY29tL3N0eWxlc2hlZXQvdGhpcmROYXYuY3NzIiByZWw9InN0eWxl
c2hlZXQiIHR5cGU9InRleHQvY3NzIiAvPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9tYW5hZ2Vy
LnBheXBhbC5jb20vc3R5bGVzaGVldC9ib2R5Q29udGVudC5jc3MiIHJlbD0ic3R5bGVzaGVldCIg
dHlwZT0idGV4dC9jc3MiIG1lZGlhPSJzY3JlZW4iIC8+CiAgICA8bGluayBocmVmPSJodHRwczov
L21hbmFnZXIucGF5cGFsLmNvbS9zdHlsZXNoZWV0L2Jhbm5lci5jc3MiIHJlbD0ic3R5bGVzaGVl
dCIgdHlwZT0idGV4dC9jc3MiIC8+CiAgICAKICAgICAgICA8bGluayBocmVmPSJodHRwczovL21h
bmFnZXIucGF5cGFsLmNvbS9zdHlsZXNoZWV0L2JvZHlDb250ZW50LmNzcyIgcmVsPSJzdHlsZXNo
ZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgIG1lZGlhPSJwcmludCIgLz4KICAgICAgICA8bGluayBocmVm
PSJodHRwczovL21hbmFnZXIucGF5cGFsLmNvbS9zdHlsZXNoZWV0L3ByaW50LmNzcyIgcmVsPSJz
dHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgbWVkaWE9InByaW50Ij4KICAgIAogICAgCiAgICAK
ICAgIAogICAgICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21hbmFnZXIucGF5cGFsLmNvbS9qcy9m
dW5jdGlvbnMuanMiPjwvc2NyaXB0PgogICAgICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21hbmFn
ZXIucGF5cGFsLmNvbS9qcy9wZXJmb3JtVHJhbnNGdW5jLmpzIj48L3NjcmlwdD4KICAgIAo8L2hl
YWQ+Cjxib2R5Pgo8ZGl2IGNsYXNzPSJob3Jpem9udGFsU2Nyb2xsIj4KPGRpdiBpZD0iaGVhZGVy
Ij4KICA8aDE+Cgk8aW1nIHNyYz0iaHR0cHM6Ly9tYW5hZ2VyLnBheXBhbC5jb20vaW1hZ2VzL3Bh
eXBhbF9sb2dvLmdpZiIgYWx0PSJQYXlQYWwiIHdpZHRoPSIyMDAiIGhlaWdodD0iNTAiIGJvcmRl
cj0iMCIvPjwvaDE+CiAgPGgyPk1hbmFnZXI8L2gyPgogIDxkaXYgaWQ9InBhcnRuZXJMb2dvIj4K
ICAgIDwhLS0gcGFydG5lciBsb2dvIGhlcmUhISAtLT4KICA8L2Rpdj4KPC9kaXY+CgoKCgoKPGRp
diBjbGFzcz0iY29udGFpbmVyIj4KCjxkaXYgY2xhc3M9Im1lbnUiPgo8ZGw+Cgk8ZHQ+bWFpbiBu
YXY8L2R0PgoJPGRkPgoJPGltZyBzcmM9Imh0dHBzOi8vbWFuYWdlci5wYXlwYWwuY29tL2ltYWdl
cy9zcGFjZXIuZ2lmIiBjbGFzcz0ibmF2U3BhY2VyIiBhbHQ9IiIgLz48L2RkPgoKCTxkZD4KCQk8
YSBocmVmPSIiPgoJCQk8c3BhbiBjbGFzcz0iYWEiPgoJCQkJPHNwYW4gY2xhc3M9InZhIj4mbmJz
cDs8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idmIiPjwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ2
YyI+PC9zcGFuPgoJCQkJPHNwYW4gY2xhc3M9InZkIj48L3NwYW4+CgkJCTwvc3Bhbj4KCQkJPHNw
YW4gY2xhc3M9ImJiIj48L3NwYW4+CgkJCTxzcGFuIGNsYXNzPSJhYSI+CgkJCQk8c3BhbiBjbGFz
cz0idmQiPjwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ2YyI+PC9zcGFuPgoJCQkJPHNwYW4gY2xh
c3M9InZiIj48L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idmEiPiZuYnNwOzwvc3Bhbj4KCQkJPC9z
cGFuPgoJCTwvYT4KCTwvZGQ+CgoKCTxkZCBpZD0iZW5kIj4KCTxpbWcgc3JjPSJodHRwczovL21h
bmFnZXIucGF5cGFsLmNvbS9pbWFnZXMvc3BhY2VyLmdpZiIgYWx0PSIiIHdpZHRoPSIxIiBoZWln
aHQ9IjEiIGJvcmRlcj0iMCIgLz48L2RkPgo8L2RsPgo8L2Rpdj4KCTxkaXYgY2xhc3M9Im5hdkJv
cmRlciI+PC9kaXY+Cgo8L2Rpdj4KCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBsYW5n
dWFnZT0iSmF2YXNjcmlwdDEuMSI+IAoKPCEtLSBCZWdpbiAKCiAgICB2YXIgYkNhbmNlbCA9IGZh
bHNlOyAKCiAgICBmdW5jdGlvbiB2YWxpZGF0ZUxvZ2luRm9ybShmb3JtKSB7IAogICAgICAgIGlm
IChiQ2FuY2VsKSB7IAogICAgICAgICAgICByZXR1cm4gdHJ1ZTsgCiAgICAgICAgfSBlbHNlIHsg
CiAgICAgICAgICAgIHZhciBmb3JtVmFsaWRhdGlvblJlc3VsdDsgCiAgICAgICAgICAgIGZvcm1W
YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGVSZXF1aXJlZChmb3JtKSAmIHZhbGlkYXRlTWF4TGVu
Z3RoKGZvcm0pICYgdmFsaWRhdGVNaW5MZW5ndGgoZm9ybSk7IAogICAgICAgICAgICByZXR1cm4g
KGZvcm1WYWxpZGF0aW9uUmVzdWx0ID09IDEpOyAKICAgICAgICB9IAogICAgfSAKCiAgICBmdW5j
dGlvbiBsb2dpbkZvcm1fcmVxdWlyZWQgKCkgeyAKICAgICB0aGlzLmEwID0gbmV3IEFycmF5KCJw
YXJ0bmVyTmFtZSIsICJQYXJ0bmVyIGlzIHJlcXVpcmVkLiIsIG5ldyBGdW5jdGlvbiAoInZhck5h
bWUiLCAidGhpcy5tYXhsZW5ndGg9JzY0JzsgIHJldHVybiB0aGlzW3Zhck5hbWVdOyIpKTsKICAg
ICB0aGlzLmExID0gbmV3IEFycmF5KCJ2ZW5kb3JOYW1lIiwgIk1lcmNoYW50IExvZ2luIGlzIHJl
cXVpcmVkLiIsIG5ldyBGdW5jdGlvbiAoInZhck5hbWUiLCAidGhpcy5tYXhsZW5ndGg9JzY0Jzsg
IHJldHVybiB0aGlzW3Zhck5hbWVdOyIpKTsKICAgICB0aGlzLmEyID0gbmV3IEFycmF5KCJwYXNz
d29yZCIsICJQYXNzd29yZCBpcyByZXF1aXJlZC4iLCBuZXcgRnVuY3Rpb24gKCJ2YXJOYW1lIiwg
InRoaXMubWF4bGVuZ3RoPSczMic7IHRoaXMubWlubGVuZ3RoPScxJzsgIHJldHVybiAKdGhpc1t2
YXJOYW1lXTsiKSk7CiAgICB9IAoKICAgIGZ1bmN0aW9uIGxvZ2luRm9ybV9tYXhsZW5ndGggKCkg
eyAKICAgICB0aGlzLmEwID0gbmV3IEFycmF5KCJwYXJ0bmVyTmFtZSIsICJQYXJ0bmVyIGNhbiBu
b3QgYmUgZ3JlYXRlciB0aGFuIDY0IGNoYXJhY3RlcnMuIiwgbmV3IEZ1bmN0aW9uICgidmFyTmFt
ZSIsICJ0aGlzLm1heGxlbmd0aD0nNjQnOyAgcmV0dXJuIAp0aGlzW3Zhck5hbWVdOyIpKTsKICAg
ICB0aGlzLmExID0gbmV3IEFycmF5KCJ2ZW5kb3JOYW1lIiwgIk1lcmNoYW50IExvZ2luIGNhbiBu
b3QgYmUgZ3JlYXRlciB0aGFuIDY0IGNoYXJhY3RlcnMuIiwgbmV3IEZ1bmN0aW9uICgidmFyTmFt
ZSIsICJ0aGlzLm1heGxlbmd0aD0nNjQnOyAgCnJldHVybiB0aGlzW3Zhck5hbWVdOyIpKTsKICAg
ICB0aGlzLmEyID0gbmV3IEFycmF5KCJwYXNzd29yZCIsICJQYXNzd29yZCBjYW4gbm90IGJlIGdy
ZWF0ZXIgdGhhbiAzMiBjaGFyYWN0ZXJzLiIsIG5ldyBGdW5jdGlvbiAoInZhck5hbWUiLCAidGhp
cy5tYXhsZW5ndGg9JzMyJzsgCnRoaXMubWlubGVuZ3RoPScxJzsgIHJldHVybiB0aGlzW3Zhck5h
bWVdOyIpKTsKICAgIH0gCgogICAgZnVuY3Rpb24gbG9naW5Gb3JtX21pbmxlbmd0aCAoKSB7IAog
ICAgIHRoaXMuYTAgPSBuZXcgQXJyYXkoInBhc3N3b3JkIiwgIlBhc3N3b3JkIGNhbiBub3QgYmUg
bGVzcyB0aGFuIDEgY2hhcmFjdGVycy4iLCBuZXcgRnVuY3Rpb24gKCJ2YXJOYW1lIiwgInRoaXMu
bWF4bGVuZ3RoPSczMic7IAp0aGlzLm1pbmxlbmd0aD0nMSc7ICByZXR1cm4gdGhpc1t2YXJOYW1l
XTsiKSk7CiAgICB9IAoKCgpmdW5jdGlvbiBpc1ZhbGlkRGF5KGRheSkgewogICAgICAgICAgICAg
ICAgaWYgKGlzTmFOKGRheSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAg
ICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZGF5IDwgMSB8fCBkYXkgPiAzMSkg
ewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5j
dGlvbiB2YWxpZGF0ZU1vbnRoRGF5KGZvcm0pIHsKICAgICAgICAgICAgICAgdmFyIGJWYWxpZCA9
IHRydWU7CiAgICAgICAgICAgICAgIHZhciBmb2N1c0ZpZWxkID0gbnVsbDsKICAgICAgICAgICAg
ICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpOwogICAgICAgICAgICAgICB2YXIgZm9ybU5hbWUg
PSBmb3JtLmdldEF0dHJpYnV0ZU5vZGUoIm5hbWUiKTsKICAgICAgICAgICAgICAgb0RhdGUgPSBl
dmFsKCduZXcgJyArIGZvcm1OYW1lLnZhbHVlICsgJ19tb250aERheSgpJyk7CiAgICAgICAgICAg
ICAgIHZhciBpID0gMDsKICAgICAgICAgICAgICAgZm9yICh4IGluIG9EYXRlKSB7CiAgICAgICAg
ICAgICAgICAgICBpZihmb3JtW29EYXRlW3hdWzBdXSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAg
ICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg
ICAgICAgdmFyIHZhbHVlID0gZm9ybVtvRGF0ZVt4XVswXV0udmFsdWU7CiAgICAgICAgICAgICAg
ICAgICBpZiAoKGZvcm1bb0RhdGVbeF1bMF1dLnR5cGUgPT0gJ3RleHQnIHx8CiAgICAgICAgICAg
ICAgICAgICAgICAgIGZvcm1bb0RhdGVbeF1bMF1dLnR5cGUgPT0gJ3RleHRhcmVhJykgJiYKICAg
ICAgICAgICAgICAgICAgICAgICAodmFsdWUubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAg
ICAgICAgIGlmICghaXNWYWxpZERheSh2YWx1ZSkpIHsKCQkJICAgICAgICAgICAgICAgICAgIGJW
YWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzRmllbGQgPSBmb3JtW29EYXRlW3hdWzBdXTsK
ICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxk
c1tpKytdID0gb0RhdGVbeF1bMV07CiAgICAgICAgICAgICAgICAgICAgICAgICBiVmFsaWQgPSAg
ZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAg
ICAgICAgICB9CiAgICAgICAgICAgICAgIGlmIChmaWVsZHMubGVuZ3RoID4gMCkgewogICAgICAg
ICAgICAgICAgICBmb2N1c0ZpZWxkLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KGZp
ZWxkcy5qb2luKCcKJykpOwogICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIHJldHVybiBi
VmFsaWQ7CiAgICAgICAgICAgIH0KICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ3JlZGl0Q2FyZChmb3Jt
KSB7CiAgICAgICAgdmFyIGJWYWxpZCA9IHRydWU7CiAgICAgICAgdmFyIGZvY3VzRmllbGQgPSBu
dWxsOwogICAgICAgIHZhciBpID0gMDsKICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7
CiAKICAgICAgICB2YXIgb0NyZWRpdENhcmQgPSBldmFsKCduZXcgJyArIGpjdl9yZXRyaWV2ZUZv
cm1OYW1lKGZvcm0pICsgICdfY3JlZGl0Q2FyZCgpJyk7CgogICAgICAgIGZvciAodmFyIHggaW4g
b0NyZWRpdENhcmQpIHsKICAgICAgICAgICAgaWYgKCFqY3ZfdmVyaWZ5QXJyYXlFbGVtZW50KHgs
IG9DcmVkaXRDYXJkW3hdKSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAg
IH0KICAgICAgICAgICAgdmFyIGZpZWxkID0gZm9ybVtvQ3JlZGl0Q2FyZFt4XVswXV07CiAgICAg
ICAgICAgIGlmICghamN2X2lzRmllbGRQcmVzZW50KGZpZWxkKSkgewogICAgICAgICAgICAgIGNv
bnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgoZmllbGQudHlwZSA9PSAndGV4
dCcgfHwKICAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICd0ZXh0YXJlYScpICYmCiAgICAg
ICAgICAgICAgICAoZmllbGQudmFsdWUubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgIGlm
ICghamN2X2x1aG5DaGVjayhmaWVsZC52YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAo
aSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzRmllbGQgPSBmaWVsZDsKICAg
ICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmllbGRzW2krK10gPSBvQ3Jl
ZGl0Q2FyZFt4XVsxXTsKICAgICAgICAgICAgICAgICAgICBiVmFsaWQgPSBmYWxzZTsKICAgICAg
ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoZmllbGRzLmxl
bmd0aCA+IDApIHsKICAgICAgICAgICAgamN2X2hhbmRsZUVycm9ycyhmaWVsZHMsIGZvY3VzRmll
bGQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYlZhbGlkOwogICAgfQoKICAgIGZ1bmN0aW9u
IGpjdl9sdWhuQ2hlY2soY2FyZE51bWJlcikgewogICAgICAgIGlmIChqY3ZfaXNMdWhuTnVtKGNh
cmROdW1iZXIpKSB7CiAgICAgICAgICAgIHZhciBub19kaWdpdCA9IGNhcmROdW1iZXIubGVuZ3Ro
OwogICAgICAgICAgICB2YXIgb2Rkb2V2ZW4gPSBub19kaWdpdCAmIDE7CiAgICAgICAgICAgIHZh
ciBzdW0gPSAwOwogICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgbm9fZGln
aXQ7IGNvdW50KyspIHsKICAgICAgICAgICAgICAgIHZhciBkaWdpdCA9IHBhcnNlSW50KGNhcmRO
dW1iZXIuY2hhckF0KGNvdW50KSk7CiAgICAgICAgICAgICAgICBpZiAoISgoY291bnQgJiAxKSBe
IG9kZG9ldmVuKSkgewogICAgICAgICAgICAgICAgICAgIGRpZ2l0ICo9IDI7CiAgICAgICAgICAg
ICAgICAgICAgaWYgKGRpZ2l0ID4gOSkgZGlnaXQgLT0gOTsKICAgICAgICAgICAgICAgIH07CiAg
ICAgICAgICAgICAgICBzdW0gKz0gZGlnaXQ7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlm
IChzdW0gPT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBpZiAoc3VtICUgMTAgPT0gMCkg
cmV0dXJuIHRydWU7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAg
ZnVuY3Rpb24gamN2X2lzTHVobk51bShhcmd2YWx1ZSkgewogICAgICAgIGFyZ3ZhbHVlID0gYXJn
dmFsdWUudG9TdHJpbmcoKTsKICAgICAgICBpZiAoYXJndmFsdWUubGVuZ3RoID09IDApIHsKICAg
ICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBuID0gMDsg
biA8IGFyZ3ZhbHVlLmxlbmd0aDsgbisrKSB7CiAgICAgICAgICAgIGlmICgoYXJndmFsdWUuc3Vi
c3RyaW5nKG4sIG4rMSkgPCAiMCIpIHx8CiAgICAgICAgICAgICAgICAoYXJndmFsdWUuc3Vic3Ry
aW5nKG4sbisxKSA+ICI5IikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg
ICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlv
biB2YWxpZGF0ZURhdGUoZm9ybSkgewogICAgICAgdmFyIGJWYWxpZCA9IHRydWU7CiAgICAgICB2
YXIgZm9jdXNGaWVsZCA9IG51bGw7CiAgICAgICB2YXIgaSA9IDA7CiAgICAgICB2YXIgZmllbGRz
ID0gbmV3IEFycmF5KCk7CiAKICAgICAgIHZhciBvRGF0ZSA9IGV2YWwoJ25ldyAnICsgamN2X3Jl
dHJpZXZlRm9ybU5hbWUoZm9ybSkgKyAgJ19EYXRlVmFsaWRhdGlvbnMoKScpOwoKICAgICAgIGZv
ciAodmFyIHggaW4gb0RhdGUpIHsKICAgICAgICAgICAgaWYgKCFqY3ZfdmVyaWZ5QXJyYXlFbGVt
ZW50KHgsIG9EYXRlW3hdKSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAg
IH0KICAgICAgICAgICB2YXIgZmllbGQgPSBmb3JtW29EYXRlW3hdWzBdXTsKICAgICAgICAgICBp
ZiAoIWpjdl9pc0ZpZWxkUHJlc2VudChmaWVsZCkpIHsKICAgICAgICAgICAgIGNvbnRpbnVlOwog
ICAgICAgICAgIH0KICAgICAgICAgICB2YXIgdmFsdWUgPSBmaWVsZC52YWx1ZTsKICAgICAgICAg
ICB2YXIgaXNTdHJpY3QgPSB0cnVlOwogICAgICAgICAgIHZhciBkYXRlUGF0dGVybiA9IG9EYXRl
W3hdWzJdKCJkYXRlUGF0dGVyblN0cmljdCIpOwogICAgICAgICAgIC8vIHRyeSBsb29zZSBwYXR0
ZXJuCiAgICAgICAgICAgaWYgKGRhdGVQYXR0ZXJuID09IG51bGwpIHsKICAgICAgICAgICAgICAg
ZGF0ZVBhdHRlcm4gPSBvRGF0ZVt4XVsyXSgiZGF0ZVBhdHRlcm4iKTsKICAgICAgICAgICAgICAg
aXNTdHJpY3QgPSBmYWxzZTsKICAgICAgICAgICB9ICAgIAogICAgICAgICAgIGlmICgoZmllbGQu
dHlwZSA9PSAnaGlkZGVuJyB8fAogICAgICAgICAgICAgICAgZmllbGQudHlwZSA9PSAndGV4dCcg
fHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3RleHRhcmVhJykgJiYKICAgICAgICAg
ICAgICAgKHZhbHVlLmxlbmd0aCA+IDApICYmIChkYXRlUGF0dGVybi5sZW5ndGggPiAwKSkgewog
ICAgICAgICAgICAgICAgIHZhciBNT05USCA9ICJNTSI7CiAgICAgICAgICAgICAgICAgdmFyIERB
WSA9ICJkZCI7CiAgICAgICAgICAgICAgICAgdmFyIFlFQVIgPSAieXl5eSI7CiAgICAgICAgICAg
ICAgICAgdmFyIG9yZGVyTW9udGggPSBkYXRlUGF0dGVybi5pbmRleE9mKE1PTlRIKTsKICAgICAg
ICAgICAgICAgICB2YXIgb3JkZXJEYXkgPSBkYXRlUGF0dGVybi5pbmRleE9mKERBWSk7CiAgICAg
ICAgICAgICAgICAgdmFyIG9yZGVyWWVhciA9IGRhdGVQYXR0ZXJuLmluZGV4T2YoWUVBUik7CiAg
ICAgICAgICAgICAgICAgaWYgKChvcmRlckRheSA8IG9yZGVyWWVhciAmJiBvcmRlckRheSA+IG9y
ZGVyTW9udGgpKSB7CiAgICAgICAgICAgICAgICAgICAgIHZhciBpRGVsaW0xID0gb3JkZXJNb250
aCArIE1PTlRILmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgdmFyIGlEZWxpbTIgPSBvcmRl
ckRheSArIERBWS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxpbTEgPSBkYXRl
UGF0dGVybi5zdWJzdHJpbmcoaURlbGltMSwgaURlbGltMSArIDEpOwogICAgICAgICAgICAgICAg
ICAgICB2YXIgZGVsaW0yID0gZGF0ZVBhdHRlcm4uc3Vic3RyaW5nKGlEZWxpbTIsIGlEZWxpbTIg
KyAxKTsKICAgICAgICAgICAgICAgICAgICAgaWYgKGlEZWxpbTEgPT0gb3JkZXJEYXkgJiYgaURl
bGltMiA9PSBvcmRlclllYXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVJlZ2V4cCA9
IGlzU3RyaWN0IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cCgiXihc
ZHsyfSkoXGR7Mn0pKFxkezR9KSApIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3
IFJlZ0V4cCgiXihcZHsxLDJ9KShcZHsxLDJ9KShcZHs0fSkgKTsKICAgICAgICAgICAgICAgICAg
ICAgfSBlbHNlIGlmIChpRGVsaW0xID09IG9yZGVyRGF5KSB7CiAgICAgICAgICAgICAgICAgICAg
ICAgIGRhdGVSZWdleHAgPSBpc1N0cmljdCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/
IG5ldyBSZWdFeHAoIl4oXGR7Mn0pKFxkezJ9KVsiICsgZGVsaW0yICsgIl0oXGR7NH0pICkKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBSZWdFeHAoIl4oXGR7MSwyfSkoXGR7MSwy
fSlbIiArIGRlbGltMiArICJdKFxkezR9KSApOwogICAgICAgICAgICAgICAgICAgICB9IGVsc2Ug
aWYgKGlEZWxpbTIgPT0gb3JkZXJZZWFyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVS
ZWdleHAgPSBpc1N0cmljdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4
cCgiXihcZHsyfSlbIiArIGRlbGltMSArICJdKFxkezJ9KShcZHs0fSkgKQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIDogbmV3IFJlZ0V4cCgiXihcZHsxLDJ9KVsiICsgZGVsaW0xICsgIl0o
XGR7MSwyfSkoXGR7NH0pICk7CiAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAg
ICAgICAgICAgICAgICAgIGRhdGVSZWdleHAgPSBpc1N0cmljdAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgID8gbmV3IFJlZ0V4cCgiXihcZHsyfSlbIiArIGRlbGltMSArICJdKFxkezJ9KVsi
ICsgZGVsaW0yICsgIl0oXGR7NH0pICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5l
dyBSZWdFeHAoIl4oXGR7MSwyfSlbIiArIGRlbGltMSArICJdKFxkezEsMn0pWyIgKyBkZWxpbTIg
KyAiXShcZHs0fSkgKTsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg
ICB2YXIgbWF0Y2hlZCA9IGRhdGVSZWdleHAuZXhlYyh2YWx1ZSk7CiAgICAgICAgICAgICAgICAg
ICAgIGlmKG1hdGNoZWQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWpj
dl9pc1ZhbGlkRGF0ZShtYXRjaGVkWzJdLCBtYXRjaGVkWzFdLCBtYXRjaGVkWzNdKSkgewogICAg
ICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAg
IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzW2krK10gPSBvRGF0ZVt4XVsxXTsK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgYlZhbGlkID0gIGZhbHNlOwogICAgICAgICAgICAg
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIChpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3Vz
RmllbGQgPSBmaWVsZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
ICAgICAgICBmaWVsZHNbaSsrXSA9IG9EYXRlW3hdWzFdOwogICAgICAgICAgICAgICAgICAgICAg
ICBiVmFsaWQgPSAgZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg
ICB9IGVsc2UgaWYgKChvcmRlck1vbnRoIDwgb3JkZXJZZWFyICYmIG9yZGVyTW9udGggPiBvcmRl
ckRheSkpIHsKICAgICAgICAgICAgICAgICAgICAgdmFyIGlEZWxpbTEgPSBvcmRlckRheSArIERB
WS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgIHZhciBpRGVsaW0yID0gb3JkZXJNb250aCAr
IE1PTlRILmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGltMSA9IGRhdGVQYXR0
ZXJuLnN1YnN0cmluZyhpRGVsaW0xLCBpRGVsaW0xICsgMSk7CiAgICAgICAgICAgICAgICAgICAg
IHZhciBkZWxpbTIgPSBkYXRlUGF0dGVybi5zdWJzdHJpbmcoaURlbGltMiwgaURlbGltMiArIDEp
OwogICAgICAgICAgICAgICAgICAgICBpZiAoaURlbGltMSA9PSBvcmRlck1vbnRoICYmIGlEZWxp
bTIgPT0gb3JkZXJZZWFyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlUmVnZXhwID0g
aXNTdHJpY3QgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoIl4oXGR7
Mn0pKFxkezJ9KShcZHs0fSkgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgUmVn
RXhwKCJeKFxkezEsMn0pKFxkezEsMn0pKFxkezR9KSApOwogICAgICAgICAgICAgICAgICAgICB9
IGVsc2UgaWYgKGlEZWxpbTEgPT0gb3JkZXJNb250aCkgewogICAgICAgICAgICAgICAgICAgICAg
ICAgZGF0ZVJlZ2V4cCA9IGlzU3RyaWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5l
dyBSZWdFeHAoIl4oXGR7Mn0pKFxkezJ9KVsiICsgZGVsaW0yICsgIl0oXGR7NH0pICkKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIDogbmV3IFJlZ0V4cCgiXihcZHsxLDJ9KShcZHsxLDJ9KVsi
ICsgZGVsaW0yICsgIl0oXGR7NH0pICk7CiAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAo
aURlbGltMiA9PSBvcmRlclllYXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVSZWdl
eHAgPSBpc1N0cmljdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKCJe
KFxkezJ9KVsiICsgZGVsaW0xICsgIl0oXGR7Mn0pKFxkezR9KSApCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICA6IG5ldyBSZWdFeHAoIl4oXGR7MSwyfSlbIiArIGRlbGltMSArICJdKFxkezEs
Mn0pKFxkezR9KSApOwogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAg
ICAgICAgICAgICAgZGF0ZVJlZ2V4cCA9IGlzU3RyaWN0CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICA/IG5ldyBSZWdFeHAoIl4oXGR7Mn0pWyIgKyBkZWxpbTEgKyAiXShcZHsyfSlbIiArIGRl
bGltMiArICJdKFxkezR9KSApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBSZWdF
eHAoIl4oXGR7MSwyfSlbIiArIGRlbGltMSArICJdKFxkezEsMn0pWyIgKyBkZWxpbTIgKyAiXShc
ZHs0fSkgKTsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICB2YXIg
bWF0Y2hlZCA9IGRhdGVSZWdleHAuZXhlYyh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgIGlm
KG1hdGNoZWQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFqY3ZfaXNW
YWxpZERhdGUobWF0Y2hlZFsxXSwgbWF0Y2hlZFsyXSwgbWF0Y2hlZFszXSkpIHsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkc1tpKytdID0gb0RhdGVbeF1b
MV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYlZhbGlkID0gIGZhbHNlOwogICAgICAg
ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAg
ICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAg
ICAgICAgICAgICAgICAgICAgICBmaWVsZHNbaSsrXSA9IG9EYXRlW3hdWzFdOwogICAgICAgICAg
ICAgICAgICAgICAgICAgYlZhbGlkID0gIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICB9CiAg
ICAgICAgICAgICAgICAgfSBlbHNlIGlmICgob3JkZXJNb250aCA+IG9yZGVyWWVhciAmJiBvcmRl
ck1vbnRoIDwgb3JkZXJEYXkpKSB7CiAgICAgICAgICAgICAgICAgICAgIHZhciBpRGVsaW0xID0g
b3JkZXJZZWFyICsgWUVBUi5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgIHZhciBpRGVsaW0y
ID0gb3JkZXJNb250aCArIE1PTlRILmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgdmFyIGRl
bGltMSA9IGRhdGVQYXR0ZXJuLnN1YnN0cmluZyhpRGVsaW0xLCBpRGVsaW0xICsgMSk7CiAgICAg
ICAgICAgICAgICAgICAgIHZhciBkZWxpbTIgPSBkYXRlUGF0dGVybi5zdWJzdHJpbmcoaURlbGlt
MiwgaURlbGltMiArIDEpOwogICAgICAgICAgICAgICAgICAgICBpZiAoaURlbGltMSA9PSBvcmRl
ck1vbnRoICYmIGlEZWxpbTIgPT0gb3JkZXJEYXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAg
IGRhdGVSZWdleHAgPSBpc1N0cmljdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcg
UmVnRXhwKCJeKFxkezR9KShcZHsyfSkoXGR7Mn0pICkKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIDogbmV3IFJlZ0V4cCgiXihcZHs0fSkoXGR7MSwyfSkoXGR7MSwyfSkgKTsKICAgICAgICAg
ICAgICAgICAgICAgfSBlbHNlIGlmIChpRGVsaW0xID09IG9yZGVyTW9udGgpIHsKICAgICAgICAg
ICAgICAgICAgICAgICAgIGRhdGVSZWdleHAgPSBpc1N0cmljdAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgPyBuZXcgUmVnRXhwKCJeKFxkezR9KShcZHsyfSlbIiArIGRlbGltMiArICJdKFxk
ezJ9KSApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBSZWdFeHAoIl4oXGR7NH0p
KFxkezEsMn0pWyIgKyBkZWxpbTIgKyAiXShcZHsxLDJ9KSApOwogICAgICAgICAgICAgICAgICAg
ICB9IGVsc2UgaWYgKGlEZWxpbTIgPT0gb3JkZXJEYXkpIHsKICAgICAgICAgICAgICAgICAgICAg
ICAgIGRhdGVSZWdleHAgPSBpc1N0cmljdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBu
ZXcgUmVnRXhwKCJeKFxkezR9KVsiICsgZGVsaW0xICsgIl0oXGR7Mn0pKFxkezJ9KSApCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBSZWdFeHAoIl4oXGR7NH0pWyIgKyBkZWxpbTEg
KyAiXShcZHsxLDJ9KShcZHsxLDJ9KSApOwogICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugewog
ICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVJlZ2V4cCA9IGlzU3RyaWN0CiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoIl4oXGR7NH0pWyIgKyBkZWxpbTEgKyAiXShc
ZHsyfSlbIiArIGRlbGltMiArICJdKFxkezJ9KSApCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICA6IG5ldyBSZWdFeHAoIl4oXGR7NH0pWyIgKyBkZWxpbTEgKyAiXShcZHsxLDJ9KVsiICsgZGVs
aW0yICsgIl0oXGR7MSwyfSkgKTsKICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg
ICAgICAgICB2YXIgbWF0Y2hlZCA9IGRhdGVSZWdleHAuZXhlYyh2YWx1ZSk7CiAgICAgICAgICAg
ICAgICAgICAgIGlmKG1hdGNoZWQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAg
aWYgKCFqY3ZfaXNWYWxpZERhdGUobWF0Y2hlZFszXSwgbWF0Y2hlZFsyXSwgbWF0Y2hlZFsxXSkp
IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7CiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGZvY3VzRmllbGQgPSBmaWVsZDsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzW2krK10g
PSBvRGF0ZVt4XVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiVmFsaWQgPSAgZmFs
c2U7CiAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIH0gZWxz
ZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAg
ICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkc1tpKytdID0gb0RhdGVbeF1b
MV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgYlZhbGlkID0gIGZhbHNlOwogICAgICAgICAg
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAg
ICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNGaWVsZCA9IGZp
ZWxkOwogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIGZpZWxkc1tp
KytdID0gb0RhdGVbeF1bMV07CiAgICAgICAgICAgICAgICAgICAgIGJWYWxpZCA9ICBmYWxzZTsK
ICAgICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICB9CiAgICAgICBpZiAoZmllbGRz
Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIGpjdl9oYW5kbGVFcnJvcnMoZmllbGRzLCBmb2N1c0Zp
ZWxkKTsKICAgICAgIH0KICAgICAgIHJldHVybiBiVmFsaWQ7CiAgICB9CiAgICAKICAgIGZ1bmN0
aW9uIGpjdl9pc1ZhbGlkRGF0ZShkYXksIG1vbnRoLCB5ZWFyKSB7CgkgICAgaWYgKG1vbnRoIDwg
MSB8fCBtb250aCA+IDEyKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAg
ICAgICAgaWYgKGRheSA8IDEgfHwgZGF5ID4gMzEpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNl
OwogICAgICAgIH0KICAgICAgICBpZiAoKG1vbnRoID09IDQgfHwgbW9udGggPT0gNiB8fCBtb250
aCA9PSA5IHx8IG1vbnRoID09IDExKSAmJgogICAgICAgICAgICAoZGF5ID09IDMxKSkgewogICAg
ICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmIChtb250aCA9PSAyKSB7
CiAgICAgICAgICAgIHZhciBsZWFwID0gKHllYXIgJSA0ID09IDAgJiYKICAgICAgICAgICAgICAg
KHllYXIgJSAxMDAgIT0gMCB8fCB5ZWFyICUgNDAwID09IDApKTsKICAgICAgICAgICAgaWYgKGRh
eT4yOSB8fCAoZGF5ID09IDI5ICYmICFsZWFwKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZh
bHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoK
ICAgIGZ1bmN0aW9uIHZhbGlkYXRlRmxvYXQoZm9ybSkgewogICAgICAgIHZhciBiVmFsaWQgPSB0
cnVlOwogICAgICAgIHZhciBmb2N1c0ZpZWxkID0gbnVsbDsKICAgICAgICB2YXIgaSA9IDA7CiAg
ICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpOwogCiAgICAgICAgdmFyIG9GbG9hdCA9IGV2
YWwoJ25ldyAnICsgamN2X3JldHJpZXZlRm9ybU5hbWUoZm9ybSkgKyAgJ19GbG9hdFZhbGlkYXRp
b25zKCknKTsKICAgICAgICBmb3IgKHZhciB4IGluIG9GbG9hdCkgewogICAgICAgICAgICBpZiAo
IWpjdl92ZXJpZnlBcnJheUVsZW1lbnQoeCwgb0Zsb2F0W3hdKSkgewogICAgICAgICAgICAgICAg
Y29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAJdmFyIGZpZWxkID0gZm9ybVtvRmxvYXRb
eF1bMF1dOwogICAgICAgICAgICBpZiAoIWpjdl9pc0ZpZWxkUHJlc2VudChmaWVsZCkpIHsKICAg
ICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgIAkKICAgICAgICAgICAg
aWYgKChmaWVsZC50eXBlID09ICdoaWRkZW4nIHx8CiAgICAgICAgICAgICAgICBmaWVsZC50eXBl
ID09ICd0ZXh0JyB8fAogICAgICAgICAgICAgICAgZmllbGQudHlwZSA9PSAndGV4dGFyZWEnIHx8
CiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICdzZWxlY3Qtb25lJyB8fAogICAgICAgICAg
ICAgICAgZmllbGQudHlwZSA9PSAncmFkaW8nKSkgewogICAgICAgIAogICAgICAgICAgICAJdmFy
IHZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAvLyBnZXQgZmllbGQncyB2YWx1ZQogICAgICAg
ICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT0gInNlbGVjdC1vbmUiKSB7CiAgICAgICAgICAgICAg
ICAgICAgdmFyIHNpID0gZmllbGQuc2VsZWN0ZWRJbmRleDsKICAgICAgICAgICAgICAgICAgICBp
ZiAoc2kgPj0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpZWxkLm9wdGlv
bnNbc2ldLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxz
ZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBmaWVsZC52YWx1ZTsKICAgICAgICAgICAg
ICAgIH0KICAgICAgICAKICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7CiAg
ICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlICcuJyBiZWZvcmUgY2hlY2tpbmcgZGlnaXRzCiAg
ICAgICAgICAgICAgICAgICAgdmFyIHRlbXBBcnJheSA9IHZhbHVlLnNwbGl0KCcuJyk7CiAgICAg
ICAgICAgICAgICAgICAgLy9TdHJpcCBvZmYgbGVhZGluZyAnMCcKICAgICAgICAgICAgICAgICAg
ICB2YXIgemVyb0luZGV4ID0gMDsKICAgICAgICAgICAgICAgICAgICB2YXIgam9pbmVkU3RyaW5n
PSB0ZW1wQXJyYXkuam9pbignJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGpvaW5lZFN0
cmluZy5jaGFyQXQoemVyb0luZGV4KSA9PSAnMCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAg
emVyb0luZGV4Kys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZh
ciBub1plcm9TdHJpbmcgPSBqb2luZWRTdHJpbmcuc3Vic3RyaW5nKHplcm9JbmRleCxqb2luZWRT
dHJpbmcubGVuZ3RoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFqY3ZfaXNBbGxEaWdpdHMo
bm9aZXJvU3RyaW5nKSB8fCB0ZW1wQXJyYXkubGVuZ3RoID4gMikgewogICAgICAgICAgICAgICAg
ICAgICAgICBiVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0g
MCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNGaWVsZCA9IGZpZWxkOwogICAg
ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkc1tpKytd
ID0gb0Zsb2F0W3hdWzFdOwoKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoJICAgICAgICAg
ICAgICAgIHZhciBpVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTsKCSAgICAgICAgICAgICAgICBp
ZiAoaXNOYU4oaVZhbHVlKSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7Cgkg
ICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CgkgICAgICAgICAgICAg
ICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZmllbGRzW2krK10gPSBvRmxvYXRbeF1bMV07
CgkgICAgICAgICAgICAgICAgICAgIGJWYWxpZCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0K
ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAg
ICAgICB9CiAgICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgamN2X2hh
bmRsZUVycm9ycyhmaWVsZHMsIGZvY3VzRmllbGQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4g
YlZhbGlkOwogICAgfQoKICAgIGZ1bmN0aW9uIHZhbGlkYXRlTWluTGVuZ3RoKGZvcm0pIHsKICAg
ICAgICB2YXIgaXNWYWxpZCA9IHRydWU7CiAgICAgICAgdmFyIGZvY3VzRmllbGQgPSBudWxsOwog
ICAgICAgIHZhciBpID0gMDsKICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7CgogICAg
ICAgIHZhciBvTWluTGVuZ3RoID0gZXZhbCgnbmV3ICcgKyBqY3ZfcmV0cmlldmVGb3JtTmFtZShm
b3JtKSArICAnX21pbmxlbmd0aCgpJyk7CgogICAgICAgIGZvciAodmFyIHggaW4gb01pbkxlbmd0
aCkgewogICAgICAgICAgICBpZiAoIWpjdl92ZXJpZnlBcnJheUVsZW1lbnQoeCwgb01pbkxlbmd0
aFt4XSkpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAg
ICAgIHZhciBmaWVsZCA9IGZvcm1bb01pbkxlbmd0aFt4XVswXV07CiAgICAgICAgICAgIGlmICgh
amN2X2lzRmllbGRQcmVzZW50KGZpZWxkKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAg
ICAgICAgICB9CgogICAgICAgICAgICBpZiAoKGZpZWxkLnR5cGUgPT0gJ2hpZGRlbicgfHwKICAg
ICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3RleHQnIHx8CiAgICAgICAgICAgICAgICBmaWVs
ZC50eXBlID09ICdwYXNzd29yZCcgfHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3Rl
eHRhcmVhJykpIHsKCiAgICAgICAgICAgICAgICAvKiBBZGp1c3QgbGVuZ3RoIGZvciBjYXJyaWFn
ZSByZXR1cm5zIC0gc2VlIEJ1ZyAzNzk2MiAqLwogICAgICAgICAgICAgICAgdmFyIGxpbmVFbmRM
ZW5ndGggPSBvTWluTGVuZ3RoW3hdWzJdKCJsaW5lRW5kTGVuZ3RoIik7CiAgICAgICAgICAgICAg
ICB2YXIgYWRqdXN0QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIGlmIChsaW5lRW5kTGVuZ3Ro
KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJDb3VudCA9IDA7CiAgICAgICAgICAgICAgICAg
ICAgdmFyIG5Db3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNyUG9zID0gMDsKICAg
ICAgICAgICAgICAgICAgICB3aGlsZSAoY3JQb3MgPCBmaWVsZC52YWx1ZS5sZW5ndGgpIHsKICAg
ICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJDaGFyID0gZmllbGQudmFsdWUuY2hhckF0KGNy
UG9zKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJDaGFyID09ICcNJykgewogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgckNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAg
IH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJDaGFyID09ICcKJykgewogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbkNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0K
ICAgICAgICAgICAgICAgICAgICAgICAgY3JQb3MrKzsKICAgICAgICAgICAgICAgICAgICB9CiAg
ICAgICAgICAgICAgICAgICAgdmFyIGVuZExlbmd0aCA9IHBhcnNlSW50KGxpbmVFbmRMZW5ndGgp
OwogICAgICAgICAgICAgICAgICAgIGFkanVzdEFtb3VudCA9IChuQ291bnQgKiBlbmRMZW5ndGgp
IC0gKHJDb3VudCArIG5Db3VudCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAg
dmFyIGlNaW4gPSBwYXJzZUludChvTWluTGVuZ3RoW3hdWzJdKCJtaW5sZW5ndGgiKSk7CiAgICAg
ICAgICAgICAgICBpZiAoKHRyaW0oZmllbGQudmFsdWUpLmxlbmd0aCA+IDApICYmICgoZmllbGQu
dmFsdWUubGVuZ3RoICsgYWRqdXN0QW1vdW50KSA8IGlNaW4pKSB7CiAgICAgICAgICAgICAgICAg
ICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkID0gZmll
bGQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZpZWxkc1tpKytd
ID0gb01pbkxlbmd0aFt4XVsxXTsKICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7
CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGZp
ZWxkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgamN2X2hhbmRsZUVycm9ycyhmaWVsZHMsIGZv
Y3VzRmllbGQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAgIH0KCiAgICBm
dW5jdGlvbiB2YWxpZGF0ZUZsb2F0UmFuZ2UoZm9ybSkgewogICAgICAgIHZhciBpc1ZhbGlkID0g
dHJ1ZTsKICAgICAgICB2YXIgZm9jdXNGaWVsZCA9IG51bGw7CiAgICAgICAgdmFyIGkgPSAwOwog
ICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTsKICAgICAgICAKICAgICAgICB2YXIgb1Jh
bmdlID0gZXZhbCgnbmV3ICcgKyBqY3ZfcmV0cmlldmVGb3JtTmFtZShmb3JtKSArICAnX2Zsb2F0
UmFuZ2UoKScpOwogICAgICAgIGZvciAodmFyIHggaW4gb1JhbmdlKSB7CiAgICAgICAgICAgIGlm
ICghamN2X3ZlcmlmeUFycmF5RWxlbWVudCh4LCBvUmFuZ2VbeF0pKSB7CiAgICAgICAgICAgICAg
ICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgZmllbGQgPSBmb3JtW29S
YW5nZVt4XVswXV07CiAgICAgICAgICAgIGlmICghamN2X2lzRmllbGRQcmVzZW50KGZpZWxkKSkg
ewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAg
ICAgICAgICBpZiAoKGZpZWxkLnR5cGUgPT0gJ2hpZGRlbicgfHwKICAgICAgICAgICAgICAgIGZp
ZWxkLnR5cGUgPT0gJ3RleHQnIHx8IGZpZWxkLnR5cGUgPT0gJ3RleHRhcmVhJykgJiYKICAgICAg
ICAgICAgICAgIChmaWVsZC52YWx1ZS5sZW5ndGggPiAwKSkgewogICAgICAgIAogICAgICAgICAg
ICAgICAgdmFyIGZNaW4gPSBwYXJzZUZsb2F0KG9SYW5nZVt4XVsyXSgibWluIikpOwogICAgICAg
ICAgICAgICAgdmFyIGZNYXggPSBwYXJzZUZsb2F0KG9SYW5nZVt4XVsyXSgibWF4IikpOwogICAg
ICAgICAgICAgICAgdmFyIGZWYWx1ZSA9IHBhcnNlRmxvYXQoZmllbGQudmFsdWUpOwogICAgICAg
ICAgICAgICAgaWYgKCEoZlZhbHVlID49IGZNaW4gJiYgZlZhbHVlIDw9IGZNYXgpKSB7CiAgICAg
ICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb2N1
c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg
IGZpZWxkc1tpKytdID0gb1JhbmdlW3hdWzFdOwogICAgICAgICAgICAgICAgICAgIGlzVmFsaWQg
PSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAg
ICBpZiAoZmllbGRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgamN2X2hhbmRsZUVycm9ycyhm
aWVsZHMsIGZvY3VzRmllbGQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAg
IH0KICBmdW5jdGlvbiBqY3ZfcmV0cmlldmVGb3JtTmFtZShmb3JtKSB7CgogICAgICB2YXIgZm9y
bU5hbWU7CgogICAgICBpZiAoZm9ybS5nZXRBdHRyaWJ1dGVOb2RlKSB7CiAgICAgICAgICBpZiAo
Zm9ybS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpICYmIGZvcm0uZ2V0QXR0cmlidXRlTm9kZSgiaWQi
KS52YWx1ZSkgewogICAgICAgICAgICAgIGZvcm1OYW1lID0gZm9ybS5nZXRBdHRyaWJ1dGVOb2Rl
KCJpZCIpLnZhbHVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmb3JtTmFtZSA9
IGZvcm0uZ2V0QXR0cmlidXRlTm9kZSgibmFtZSIpLnZhbHVlOwogICAgICAgICAgfQogICAgICB9
IGVsc2UgaWYgKGZvcm0uZ2V0QXR0cmlidXRlKSB7CiAgICAgICAgICBpZiAoZm9ybS5nZXRBdHRy
aWJ1dGUoImlkIikpIHsKICAgICAgICAgICAgICBmb3JtTmFtZSA9IGZvcm0uZ2V0QXR0cmlidXRl
KCJpZCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmb3JtTmFtZSA9IGZvcm0u
YXR0cmlidXRlc1sibmFtZSJdOwogICAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgICAg
aWYgKGZvcm0uaWQpIHsKICAgICAgICAgICAgICBmb3JtTmFtZSA9IGZvcm0uaWQ7CiAgICAgICAg
ICB9IGVsc2UgewogICAgICAgICAgICAgIGZvcm1OYW1lID0gZm9ybS5uYW1lOwogICAgICAgICAg
fQogICAgICB9CgogICAgICByZXR1cm4gZm9ybU5hbWU7CgogIH0gIAoKICBmdW5jdGlvbiBqY3Zf
aGFuZGxlRXJyb3JzKG1lc3NhZ2VzLCBmb2N1c0ZpZWxkKSB7CiAgICAgIGlmIChmb2N1c0ZpZWxk
ICYmIGZvY3VzRmllbGQgIT0gbnVsbCkgewogICAgICAgICAgdmFyIGRvRm9jdXMgPSB0cnVlOwog
ICAgICAgICAgaWYgKGZvY3VzRmllbGQuZGlzYWJsZWQgfHwgZm9jdXNGaWVsZC50eXBlID09ICdo
aWRkZW4nKSB7CiAgICAgICAgICAgICAgZG9Gb2N1cyA9IGZhbHNlOwogICAgICAgICAgfQogICAg
ICAgICAgaWYgKGRvRm9jdXMgJiYgCiAgICAgICAgICAgICAgZm9jdXNGaWVsZC5zdHlsZSAmJiAK
ICAgICAgICAgICAgICBmb2N1c0ZpZWxkLnN0eWxlLnZpc2liaWxpdHkgJiYKICAgICAgICAgICAg
ICBmb2N1c0ZpZWxkLnN0eWxlLnZpc2liaWxpdHkgPT0gJ2hpZGRlbicpIHsKICAgICAgICAgICAg
ICBkb0ZvY3VzID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZG9Gb2N1cykgewog
ICAgICAgICAgICAgIGZvY3VzRmllbGQuZm9jdXMoKTsKICAgICAgICAgIH0KICAgICAgfQogICAg
ICBhbGVydChtZXNzYWdlcy5qb2luKCcKJykpOwogIH0KCiAgZnVuY3Rpb24gamN2X3ZlcmlmeUFy
cmF5RWxlbWVudChuYW1lLCBlbGVtZW50KSB7CiAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQu
bGVuZ3RoICYmIGVsZW1lbnQubGVuZ3RoID09IDMpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwog
ICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgfQoKCiAgZnVu
Y3Rpb24gamN2X2lzRmllbGRQcmVzZW50KGZpZWxkKSB7CiAgICAgIHZhciBmaWVsZFByZXNlbnQg
PSB0cnVlOwogICAgICBpZiAoZmllbGQgPT0gbnVsbCB8fCAodHlwZW9mIGZpZWxkID09ICd1bmRl
ZmluZWQnKSkgewogICAgICAgICAgZmllbGRQcmVzZW50ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7
CiAgICAgICAgICBpZiAoZmllbGQuZGlzYWJsZWQpIHsKICAgICAgICAgICAgICBmaWVsZFByZXNl
bnQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZmllbGRQcmVzZW50
OwogIH0KCiAgZnVuY3Rpb24gamN2X2lzQWxsRGlnaXRzKGFyZ3ZhbHVlKSB7CiAgICAgIGFyZ3Zh
bHVlID0gYXJndmFsdWUudG9TdHJpbmcoKTsKICAgICAgdmFyIHZhbGlkQ2hhcnMgPSAiMDEyMzQ1
Njc4OSI7CiAgICAgIHZhciBzdGFydEZyb20gPSAwOwogICAgICBpZiAoYXJndmFsdWUuc3Vic3Ry
aW5nKDAsIDIpID09ICIweCIpIHsKICAgICAgICAgdmFsaWRDaGFycyA9ICIwMTIzNDU2Nzg5YWJj
ZGVmQUJDREVGIjsKICAgICAgICAgc3RhcnRGcm9tID0gMjsKICAgICAgfSBlbHNlIGlmIChhcmd2
YWx1ZS5jaGFyQXQoMCkgPT0gIjAiKSB7CiAgICAgICAgIHZhbGlkQ2hhcnMgPSAiMDEyMzQ1Njci
OwogICAgICAgICBzdGFydEZyb20gPSAxOwogICAgICB9IGVsc2UgaWYgKGFyZ3ZhbHVlLmNoYXJB
dCgwKSA9PSAiLSIpIHsKICAgICAgICAgIHN0YXJ0RnJvbSA9IDE7CiAgICAgIH0KCiAgICAgIGZv
ciAodmFyIG4gPSBzdGFydEZyb207IG4gPCBhcmd2YWx1ZS5sZW5ndGg7IG4rKykgewogICAgICAg
ICAgaWYgKHZhbGlkQ2hhcnMuaW5kZXhPZihhcmd2YWx1ZS5zdWJzdHJpbmcobiwgbisxKSkgPT0g
LTEpIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0
aW9uIGpjdl9pc0RlY2ltYWxEaWdpdHMoYXJndmFsdWUpIHsKICAgICAgYXJndmFsdWUgPSBhcmd2
YWx1ZS50b1N0cmluZygpOwogICAgICB2YXIgdmFsaWRDaGFycyA9ICIwMTIzNDU2Nzg5IjsKCiAg
ICAgIHZhciBzdGFydEZyb20gPSAwOwogICAgICBpZiAoYXJndmFsdWUuY2hhckF0KDApID09ICIt
IikgewogICAgICAgICAgc3RhcnRGcm9tID0gMTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgbiA9
IHN0YXJ0RnJvbTsgbiA8IGFyZ3ZhbHVlLmxlbmd0aDsgbisrKSB7CiAgICAgICAgICBpZiAodmFs
aWRDaGFycy5pbmRleE9mKGFyZ3ZhbHVlLnN1YnN0cmluZyhuLCBuKzEpKSA9PSAtMSkgcmV0dXJu
IGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogIH0KCiAgICBmdW5jdGlvbiB2YWxp
ZGF0ZU1heExlbmd0aChmb3JtKSB7CiAgICAgICAgdmFyIGlzVmFsaWQgPSB0cnVlOwogICAgICAg
IHZhciBmb2N1c0ZpZWxkID0gbnVsbDsKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgdmFyIGZp
ZWxkcyA9IG5ldyBBcnJheSgpOwogCiAgICAgICAgdmFyIG9NYXhMZW5ndGggPSBldmFsKCduZXcg
JyArIGpjdl9yZXRyaWV2ZUZvcm1OYW1lKGZvcm0pICsgICdfbWF4bGVuZ3RoKCknKTsgICAgICAg
IAogICAgICAgIGZvciAodmFyIHggaW4gb01heExlbmd0aCkgewogICAgICAgICAgICBpZiAoIWpj
dl92ZXJpZnlBcnJheUVsZW1lbnQoeCwgb01heExlbmd0aFt4XSkpIHsKICAgICAgICAgICAgICAg
IGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBmaWVsZCA9IGZvcm1bb01h
eExlbmd0aFt4XVswXV07CiAgICAgICAgICAgIGlmICghamN2X2lzRmllbGRQcmVzZW50KGZpZWxk
KSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBp
ZiAoKGZpZWxkLnR5cGUgPT0gJ2hpZGRlbicgfHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUg
PT0gJ3RleHQnIHx8CiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICdwYXNzd29yZCcgfHwK
ICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3RleHRhcmVhJykpIHsKCiAgICAgICAgICAg
ICAgICAvKiBBZGp1c3QgbGVuZ3RoIGZvciBjYXJyaWFnZSByZXR1cm5zIC0gc2VlIEJ1ZyAzNzk2
MiAqLwogICAgICAgICAgICAgICAgdmFyIGxpbmVFbmRMZW5ndGggPSBvTWF4TGVuZ3RoW3hdWzJd
KCJsaW5lRW5kTGVuZ3RoIik7CiAgICAgICAgICAgICAgICB2YXIgYWRqdXN0QW1vdW50ID0gMDsK
ICAgICAgICAgICAgICAgIGlmIChsaW5lRW5kTGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAg
dmFyIHJDb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5Db3VudCA9IDA7CiAgICAg
ICAgICAgICAgICAgICAgdmFyIGNyUG9zID0gMDsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAo
Y3JQb3MgPCBmaWVsZC52YWx1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFy
IGN1cnJDaGFyID0gZmllbGQudmFsdWUuY2hhckF0KGNyUG9zKTsKICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKGN1cnJDaGFyID09ICcNJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ckNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKGN1cnJDaGFyID09ICcKJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbkNv
dW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAg
Y3JQb3MrKzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIGVu
ZExlbmd0aCA9IHBhcnNlSW50KGxpbmVFbmRMZW5ndGgpOwogICAgICAgICAgICAgICAgICAgIGFk
anVzdEFtb3VudCA9IChuQ291bnQgKiBlbmRMZW5ndGgpIC0gKHJDb3VudCArIG5Db3VudCk7CiAg
ICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGlNYXggPSBwYXJzZUludChvTWF4
TGVuZ3RoW3hdWzJdKCJtYXhsZW5ndGgiKSk7CiAgICAgICAgICAgICAgICBpZiAoKGZpZWxkLnZh
bHVlLmxlbmd0aCArIGFkanVzdEFtb3VudCkgID4gaU1heCkgewogICAgICAgICAgICAgICAgICAg
IGlmIChpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNGaWVsZCA9IGZpZWxk
OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmaWVsZHNbaSsrXSA9
IG9NYXhMZW5ndGhbeF1bMV07CiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlOwog
ICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChmaWVs
ZHMubGVuZ3RoID4gMCkgewogICAgICAgICAgIGpjdl9oYW5kbGVFcnJvcnMoZmllbGRzLCBmb2N1
c0ZpZWxkKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7CiAgICB9CgogICAgZnVu
Y3Rpb24gdmFsaWRhdGVJbnRlZ2VyKGZvcm0pIHsKICAgICAgICB2YXIgYlZhbGlkID0gdHJ1ZTsK
ICAgICAgICB2YXIgZm9jdXNGaWVsZCA9IG51bGw7CiAgICAgICAgdmFyIGkgPSAwOwogICAgICAg
IHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTsKIAogICAgICAgIHZhciBvSW50ZWdlciA9IGV2YWwo
J25ldyAnICsgamN2X3JldHJpZXZlRm9ybU5hbWUoZm9ybSkgKyAgJ19JbnRlZ2VyVmFsaWRhdGlv
bnMoKScpOwogICAgICAgIGZvciAodmFyIHggaW4gb0ludGVnZXIpIHsKICAgICAgICAgICAgaWYg
KCFqY3ZfdmVyaWZ5QXJyYXlFbGVtZW50KHgsIG9JbnRlZ2VyW3hdKSkgewogICAgICAgICAgICAg
ICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGZpZWxkID0gZm9ybVtv
SW50ZWdlclt4XVswXV07CiAgICAgICAgICAgIGlmICghamN2X2lzRmllbGRQcmVzZW50KGZpZWxk
KSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBp
ZiAoKGZpZWxkLnR5cGUgPT0gJ2hpZGRlbicgfHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUg
PT0gJ3RleHQnIHx8CiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICd0ZXh0YXJlYScgfHwK
ICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3NlbGVjdC1vbmUnIHx8CiAgICAgICAgICAg
ICAgICBmaWVsZC50eXBlID09ICdyYWRpbycpKSB7CgogICAgICAgICAgICAgICAgdmFyIHZhbHVl
ID0gJyc7CiAgICAgICAgICAgICAgICAvLyBnZXQgZmllbGQncyB2YWx1ZQogICAgICAgICAgICAg
ICAgaWYgKGZpZWxkLnR5cGUgPT0gInNlbGVjdC1vbmUiKSB7CiAgICAgICAgICAgICAgICAgICAg
dmFyIHNpID0gZmllbGQuc2VsZWN0ZWRJbmRleDsKICAgICAgICAgICAgICAgICAgICBpZiAoc2kg
Pj0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpZWxkLm9wdGlvbnNbc2ld
LnZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAg
ICAgICAgICAgICAgICAgICAgdmFsdWUgPSBmaWVsZC52YWx1ZTsKICAgICAgICAgICAgICAgIH0K
CiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkgewoKICAgICAgICAgICAgICAg
ICAgICBpZiAoIWpjdl9pc0RlY2ltYWxEaWdpdHModmFsdWUpKSB7CiAgICAgICAgICAgICAgICAg
ICAgICAgIGJWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAw
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CiAgICAg
ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzW2krK10g
PSBvSW50ZWdlclt4XVsxXTsKCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg
ICAgICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7CiAgICAgICAg
ICAgICAgICAgICAgICAgIGlmIChpc05hTihpVmFsdWUpIHx8ICEoaVZhbHVlID49IC0yMTQ3NDgz
NjQ4ICYmIGlWYWx1ZSA8PSAyMTQ3NDgzNjQ3KSkgewogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzRmll
bGQgPSBmaWVsZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGZpZWxkc1tpKytdID0gb0ludGVnZXJbeF1bMV07CiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBiVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICB9CiAg
ICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAg
IH0KICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICBqY3ZfaGFuZGxl
RXJyb3JzKGZpZWxkcywgZm9jdXNGaWVsZCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiVmFs
aWQ7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHZhbGlkYXRlU2hvcnQoZm9ybSkgewogICAgICAgIHZh
ciBiVmFsaWQgPSB0cnVlOwogICAgICAgIHZhciBmb2N1c0ZpZWxkID0gbnVsbDsKICAgICAgICB2
YXIgaSA9IDA7CiAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpOwogCiAgICAgICAgdmFy
IG9TaG9ydCA9IGV2YWwoJ25ldyAnICsgamN2X3JldHJpZXZlRm9ybU5hbWUoZm9ybSkgKyAgJ19T
aG9ydFZhbGlkYXRpb25zKCknKTsKCiAgICAgICAgZm9yICh2YXIgeCBpbiBvU2hvcnQpIHsKICAg
ICAgICAgICAgaWYgKCFqY3ZfdmVyaWZ5QXJyYXlFbGVtZW50KHgsIG9TaG9ydFt4XSkpIHsKICAg
ICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBmaWVs
ZCA9IGZvcm1bb1Nob3J0W3hdWzBdXTsKICAgICAgICAgICAgaWYgKCFqY3ZfaXNGaWVsZFByZXNl
bnQoZmllbGQpKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAg
ICAgICAgIGlmICgoZmllbGQudHlwZSA9PSAnaGlkZGVuJyB8fAogICAgICAgICAgICAgICAgZmll
bGQudHlwZSA9PSAndGV4dCcgfHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3RleHRh
cmVhJyB8fAogICAgICAgICAgICAgICAgZmllbGQudHlwZSA9PSAnc2VsZWN0LW9uZScgfHwKICAg
ICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3JhZGlvJykpIHsKCiAgICAgICAgICAgICAgICB2
YXIgdmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIC8vIGdldCBmaWVsZCdzIHZhbHVlCiAgICAg
ICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PSAic2VsZWN0LW9uZSIpIHsKICAgICAgICAgICAg
ICAgICAgICB2YXIgc2kgPSBmaWVsZC5zZWxlY3RlZEluZGV4OwogICAgICAgICAgICAgICAgICAg
IGlmIChzaSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZmllbGQub3B0
aW9uc1tzaV0udmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBl
bHNlIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpZWxkLnZhbHVlOwogICAgICAgICAg
ICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgICAg
ICAgICAgICAgICAgaWYgKCFqY3ZfaXNEZWNpbWFsRGlnaXRzKHZhbHVlKSkgewogICAgICAgICAg
ICAgICAgICAgICAgICBiVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYg
KGkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNGaWVsZCA9IGZpZWxk
OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxk
c1tpKytdID0gb1Nob3J0W3hdWzFdOwoKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoKICAg
ICAgICAgICAgICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7CiAg
ICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihpVmFsdWUpIHx8ICEoaVZhbHVlID49IC0z
Mjc2OCAmJiBpVmFsdWUgPD0gMzI3NjcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAoaSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNGaWVsZCA9
IGZpZWxkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZmllbGRzW2krK10gPSBvU2hvcnRbeF1bMV07CiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBiVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAg
ICAgICAgICAgICAgfQogICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAg
ICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgamN2X2hhbmRsZUVycm9y
cyhmaWVsZHMsIGZvY3VzRmllbGQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYlZhbGlkOwog
ICAgfQoKICAgIGZ1bmN0aW9uIHZhbGlkYXRlTWluTGVuZ3RoKGZvcm0pIHsKICAgICAgICB2YXIg
aXNWYWxpZCA9IHRydWU7CiAgICAgICAgdmFyIGZvY3VzRmllbGQgPSBudWxsOwogICAgICAgIHZh
ciBpID0gMDsKICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7CgogICAgICAgIHZhciBv
TWluTGVuZ3RoID0gZXZhbCgnbmV3ICcgKyBqY3ZfcmV0cmlldmVGb3JtTmFtZShmb3JtKSArICAn
X21pbmxlbmd0aCgpJyk7CgogICAgICAgIGZvciAodmFyIHggaW4gb01pbkxlbmd0aCkgewogICAg
ICAgICAgICBpZiAoIWpjdl92ZXJpZnlBcnJheUVsZW1lbnQoeCwgb01pbkxlbmd0aFt4XSkpIHsK
ICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBm
aWVsZCA9IGZvcm1bb01pbkxlbmd0aFt4XVswXV07CiAgICAgICAgICAgIGlmICghamN2X2lzRmll
bGRQcmVzZW50KGZpZWxkKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9
CgogICAgICAgICAgICBpZiAoKGZpZWxkLnR5cGUgPT0gJ2hpZGRlbicgfHwKICAgICAgICAgICAg
ICAgIGZpZWxkLnR5cGUgPT0gJ3RleHQnIHx8CiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09
ICdwYXNzd29yZCcgfHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3RleHRhcmVhJykp
IHsKCiAgICAgICAgICAgICAgICAvKiBBZGp1c3QgbGVuZ3RoIGZvciBjYXJyaWFnZSByZXR1cm5z
IC0gc2VlIEJ1ZyAzNzk2MiAqLwogICAgICAgICAgICAgICAgdmFyIGxpbmVFbmRMZW5ndGggPSBv
TWluTGVuZ3RoW3hdWzJdKCJsaW5lRW5kTGVuZ3RoIik7CiAgICAgICAgICAgICAgICB2YXIgYWRq
dXN0QW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIGlmIChsaW5lRW5kTGVuZ3RoKSB7CiAgICAg
ICAgICAgICAgICAgICAgdmFyIHJDb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5D
b3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNyUG9zID0gMDsKICAgICAgICAgICAg
ICAgICAgICB3aGlsZSAoY3JQb3MgPCBmaWVsZC52YWx1ZS5sZW5ndGgpIHsKICAgICAgICAgICAg
ICAgICAgICAgICAgdmFyIGN1cnJDaGFyID0gZmllbGQudmFsdWUuY2hhckF0KGNyUG9zKTsKICAg
ICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJDaGFyID09ICcNJykgewogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgckNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAg
ICAgICAgICAgICAgICAgICAgaWYgKGN1cnJDaGFyID09ICcKJykgewogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgbkNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg
ICAgICAgICAgICAgICAgY3JQb3MrKzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
ICAgICAgICAgdmFyIGVuZExlbmd0aCA9IHBhcnNlSW50KGxpbmVFbmRMZW5ndGgpOwogICAgICAg
ICAgICAgICAgICAgIGFkanVzdEFtb3VudCA9IChuQ291bnQgKiBlbmRMZW5ndGgpIC0gKHJDb3Vu
dCArIG5Db3VudCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGlNaW4g
PSBwYXJzZUludChvTWluTGVuZ3RoW3hdWzJdKCJtaW5sZW5ndGgiKSk7CiAgICAgICAgICAgICAg
ICBpZiAoKHRyaW0oZmllbGQudmFsdWUpLmxlbmd0aCA+IDApICYmICgoZmllbGQudmFsdWUubGVu
Z3RoICsgYWRqdXN0QW1vdW50KSA8IGlNaW4pKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGkg
PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CiAgICAg
ICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZpZWxkc1tpKytdID0gb01pbkxl
bmd0aFt4XVsxXTsKICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAg
ICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGZpZWxkcy5sZW5n
dGggPiAwKSB7CiAgICAgICAgICAgamN2X2hhbmRsZUVycm9ycyhmaWVsZHMsIGZvY3VzRmllbGQp
OwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAgIH0KCmZ1bmN0aW9uIHZhbGlk
YXRlUmVxdWlyZWRfY2hlY2tCb3goZm9ybSl7CiAgICAgICAgICAgIHZhciBiVmFsaWQgPSB0cnVl
OwogICAgICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJy
YXkoKTsKICAgICAgICAgICAgdmFyIGZvcm1OYW1lID0gZm9ybS5nZXRBdHRyaWJ1dGVOb2RlKCJu
YW1lIik7CiAgICAgICAgICAgIG9SZXF1aXJlZCA9IGV2YWwoJ25ldyAnICsgZm9ybU5hbWUudmFs
dWUgKyAnX3JlcXVpcmVkX2NoZWNrQm94KCknKTsKICAgICAgICAgICAgZm9yICh4IGluIG9SZXF1
aXJlZCkgewogICAgICAgICAgICAgICAgdmFyIGNoZWNrQm94TGVuZ3RoID0gZm9ybVtvUmVxdWly
ZWRbeF1bMF1dLmxlbmd0aDsKICAgICAgICAgICAgICAgIGlmKGNoZWNrQm94TGVuZ3RoID09IHVu
ZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgaWYoIWZvcm1bb1JlcXVpcmVkW3hdWzBdXS5j
aGVja2VkKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmll
bGRzW2krK10gPSBvUmVxdWlyZWRbeF1bMV07CiAgICAgICAgICAgICAgICAgICAgICAgIGJWYWxp
ZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAg
ICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3Ioaz0wO2s8Y2hlY2tC
b3hMZW5ndGg7aysrKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmIChm
b3JtW29SZXF1aXJlZFt4XVswXV1ba10uY2hlY2tlZCA9PSB0cnVlKSBicmVhazsKICAgICAgICAg
ICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChrPT1jaGVja0JveExlbmd0aCkKICAgICAgICAg
ICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBmaWVsZHNbaSsrXSA9IG9SZXF1aXJlZFt4XVsx
XTsKICAgICAgICAgICAgICAgICAgICBiVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0K
ICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCA+IDApIHsKICAgICAg
ICAgICAgICAgYWxlcnQoZmllbGRzLmpvaW4oJwonKSk7CiAgICAgICAgICAgIH0KICAgICAgICAg
ICAgcmV0dXJuIGJWYWxpZDsKICAgICAgICB9CiAgICBmdW5jdGlvbiB2YWxpZGF0ZUJ5dGUoZm9y
bSkgewogICAgICAgIHZhciBiVmFsaWQgPSB0cnVlOwogICAgICAgIHZhciBmb2N1c0ZpZWxkID0g
bnVsbDsKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgp
OwogICAgICAgIAogICAgICAgIHZhciBvQnl0ZSA9IGV2YWwoJ25ldyAnICsgamN2X3JldHJpZXZl
Rm9ybU5hbWUoZm9ybSkgKyAnX0J5dGVWYWxpZGF0aW9ucygpJyk7CgogICAgICAgIGZvciAodmFy
IHggaW4gb0J5dGUpIHsKICAgICAgICAgICAgaWYgKCFqY3ZfdmVyaWZ5QXJyYXlFbGVtZW50KHgs
IG9CeXRlW3hdKSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAg
ICAgICAgICAgdmFyIGZpZWxkID0gZm9ybVtvQnl0ZVt4XVswXV07CiAgICAgICAgICAgIGlmICgh
amN2X2lzRmllbGRQcmVzZW50KGZpZWxkKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAg
ICAgICAgICB9CgogICAgICAgICAgICBpZiAoKGZpZWxkLnR5cGUgPT0gJ2hpZGRlbicgfHwKICAg
ICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3RleHQnIHx8CiAgICAgICAgICAgICAgICBmaWVs
ZC50eXBlID09ICd0ZXh0YXJlYScgfHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3Nl
bGVjdC1vbmUnIHx8CiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICdyYWRpbycpKSB7Cgog
ICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAvLyBnZXQgZmll
bGQncyB2YWx1ZQogICAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT0gInNlbGVjdC1vbmUi
KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gZmllbGQuc2VsZWN0ZWRJbmRleDsKICAg
ICAgICAgICAgICAgICAgICBpZiAoc2kgPj0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2
YWx1ZSA9IGZpZWxkLm9wdGlvbnNbc2ldLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBmaWVsZC52
YWx1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3Ro
ID4gMCkgewogICAgICAgICAgICAgICAgICAgIGlmICghamN2X2lzRGVjaW1hbERpZ2l0cyh2YWx1
ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYlZhbGlkID0gZmFsc2U7CiAgICAgICAgICAg
ICAgICAgICAgICAgIGlmIChpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZv
Y3VzRmllbGQgPSBmaWVsZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg
ICAgICAgICAgICBmaWVsZHNbaSsrXSA9IG9CeXRlW3hdWzFdOwoKICAgICAgICAgICAgICAgICAg
ICB9IGVsc2UgewoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHBhcnNlSW50
KHZhbHVlLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihpVmFsdWUpIHx8
ICEoaVZhbHVlID49IC0xMjggJiYgaVZhbHVlIDw9IDEyNykpIHsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIChpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBm
b2N1c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBmaWVsZHNbaSsrXSA9IG9CeXRlW3hdWzFdOwogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYlZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAg
IH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9
CiAgICAgICAgfQogICAgICAgIGlmIChmaWVsZHMubGVuZ3RoID4gMCkgewogICAgICAgICAgIGpj
dl9oYW5kbGVFcnJvcnMoZmllbGRzLCBmb2N1c0ZpZWxkKTsKICAgICAgICB9CiAgICAgICAgcmV0
dXJuIGJWYWxpZDsKICAgIH0KCgogICAgZnVuY3Rpb24gdmFsaWRhdGVSZXF1aXJlZChmb3JtKSB7
CiAgICAgICAgdmFyIGlzVmFsaWQgPSB0cnVlOwogICAgICAgIHZhciBmb2N1c0ZpZWxkID0gbnVs
bDsKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpOwoK
ICAgICAgICB2YXIgb1JlcXVpcmVkID0gZXZhbCgnbmV3ICcgKyBqY3ZfcmV0cmlldmVGb3JtTmFt
ZShmb3JtKSArICAnX3JlcXVpcmVkKCknKTsKCiAgICAgICAgZm9yICh2YXIgeCBpbiBvUmVxdWly
ZWQpIHsKICAgICAgICAgICAgaWYgKCFqY3ZfdmVyaWZ5QXJyYXlFbGVtZW50KHgsIG9SZXF1aXJl
ZFt4XSkpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAg
ICAgIHZhciBmaWVsZCA9IGZvcm1bb1JlcXVpcmVkW3hdWzBdXTsKCiAgICAgICAgICAgIGlmICgh
amN2X2lzRmllbGRQcmVzZW50KGZpZWxkKSkgewogICAgICAgICAgICAgICAgZmllbGRzW2krK10g
PSBvUmVxdWlyZWRbeF1bMV07CiAgICAgICAgICAgICAgICBpc1ZhbGlkPWZhbHNlOwogICAgICAg
ICAgICB9IGVsc2UgaWYgKChmaWVsZC50eXBlID09ICdoaWRkZW4nIHx8CiAgICAgICAgICAgICAg
ICBmaWVsZC50eXBlID09ICd0ZXh0JyB8fAogICAgICAgICAgICAgICAgZmllbGQudHlwZSA9PSAn
dGV4dGFyZWEnIHx8CiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICdmaWxlJyB8fAogICAg
ICAgICAgICAgICAgZmllbGQudHlwZSA9PSAncmFkaW8nIHx8CiAgICAgICAgICAgICAgICBmaWVs
ZC50eXBlID09ICdjaGVja2JveCcgfHwKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3Nl
bGVjdC1vbmUnIHx8CiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICdwYXNzd29yZCcpKSB7
CgogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAvLyBnZXQg
ZmllbGQncyB2YWx1ZQogICAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT0gInNlbGVjdC1v
bmUiKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gZmllbGQuc2VsZWN0ZWRJbmRleDsK
ICAgICAgICAgICAgICAgICAgICBpZiAoc2kgPj0gMCkgewogICAgICAgICAgICAgICAgICAgICAg
ICB2YWx1ZSA9IGZpZWxkLm9wdGlvbnNbc2ldLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0K
ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PSAncmFkaW8nIHx8IGZpZWxk
LnR5cGUgPT0gJ2NoZWNrYm94JykgewogICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5jaGVj
a2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZmllbGQudmFsdWU7CiAgICAg
ICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAg
ICAgICB2YWx1ZSA9IGZpZWxkLnZhbHVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAg
ICAgIGlmICh0cmltKHZhbHVlKS5sZW5ndGggPT0gMCkgewoKICAgICAgICAgICAgICAgICAgICBp
ZiAoKGkgPT0gMCkgJiYgKGZpZWxkLnR5cGUgIT0gJ2hpZGRlbicpKSB7CiAgICAgICAgICAgICAg
ICAgICAgICAgIGZvY3VzRmllbGQgPSBmaWVsZDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAg
ICAgICAgICAgICAgICAgZmllbGRzW2krK10gPSBvUmVxdWlyZWRbeF1bMV07CiAgICAgICAgICAg
ICAgICAgICAgaXNWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9
IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT0gInNlbGVjdC1tdWx0aXBsZSIpIHsgCiAgICAgICAgICAg
ICAgICB2YXIgbnVtT3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMubGVuZ3RoOwogICAgICAgICAgICAg
ICAgbGFzdFNlbGVjdGVkPS0xOwogICAgICAgICAgICAgICAgZm9yKGxvb3A9bnVtT3B0aW9ucy0x
O2xvb3A+PTA7bG9vcC0tKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoZmllbGQub3B0aW9uc1ts
b29wXS5zZWxlY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VsZWN0ZWQgPSBs
b29wOwogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpZWxkLm9wdGlvbnNbbG9vcF0u
dmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAg
IH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGxhc3RTZWxlY3RlZCA8IDAg
fHwgdHJpbSh2YWx1ZSkubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICBpZihpID09
IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNGaWVsZCA9IGZpZWxkOwogICAgICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmaWVsZHNbaSsrXSA9IG9SZXF1aXJl
ZFt4XVsxXTsKICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkPWZhbHNlOwogICAgICAgICAgICAg
ICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKChmaWVsZC5sZW5ndGggPiAwKSAmJiAoZmllbGRb
MF0udHlwZSA9PSAncmFkaW8nIHx8IGZpZWxkWzBdLnR5cGUgPT0gJ2NoZWNrYm94JykpIHsKICAg
ICAgICAgICAgICAgIGlzQ2hlY2tlZD0tMTsKICAgICAgICAgICAgICAgIGZvciAobG9vcD0wO2xv
b3AgPCBmaWVsZC5sZW5ndGg7bG9vcCsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxk
W2xvb3BdLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNDaGVja2VkPWxvb3A7
CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBvbmx5IG9uZSBuZWVkcyB0byBiZSBj
aGVja2VkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAg
ICAgICAgaWYgKGlzQ2hlY2tlZCA8IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAw
KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzRmllbGQgPSBmaWVsZFswXTsKICAgICAg
ICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmllbGRzW2krK10gPSBvUmVxdWly
ZWRbeF1bMV07CiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZD1mYWxzZTsKICAgICAgICAgICAg
ICAgIH0KICAgICAgICAgICAgfSAgIAogICAgICAgIH0KICAgICAgICBpZiAoZmllbGRzLmxlbmd0
aCA+IDApIHsKICAgICAgICAgICBqY3ZfaGFuZGxlRXJyb3JzKGZpZWxkcywgZm9jdXNGaWVsZCk7
CiAgICAgICAgfQogICAgICAgIHJldHVybiBpc1ZhbGlkOwogICAgfQogICAgCiAgICAvLyBUcmlt
IHdoaXRlc3BhY2UgZnJvbSBsZWZ0IGFuZCByaWdodCBzaWRlcyBvZiBzLgogICAgZnVuY3Rpb24g
dHJpbShzKSB7CiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSggL15zKi8sICIiICkucmVwbGFjZSgg
L3MqCiwgIiIgKTsKICAgIH0KCmZ1bmN0aW9uIHZhbGlkYXRlUmVxdWlyZWRfaWYoZm9ybSkgewog
ICAgICAgICAgICAgICAgdmFyIGJWYWxpZCA9IHRydWU7CiAgICAgICAgICAgICAgICB2YXIgZm9j
dXNGaWVsZCA9IG51bGw7CiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgICAgICAg
ICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7CiAgICAgICAgICAgICAgICB2YXIgZm9ybU5hbWUg
PSBmb3JtLmdldEF0dHJpYnV0ZU5vZGUoIm5hbWUiKTsKICAgICAgICAgICAgICAgIG9SZXF1aXJl
ZCA9IGV2YWwoJ25ldyAnICsgZm9ybU5hbWUudmFsdWUgKyAnX3JlcXVpcmVkX2lmKCknKTsKICAg
ICAgICAgICAgICAgIGZvciAoeCBpbiBvUmVxdWlyZWQpIHsKICAgICAgICAgICAgICAgICAgICB2
YXIgdGVzdCA9IG9SZXF1aXJlZFt4XVsyXSgidGVzdCIpOwogICAgICAgICAgICAgICAgICAgIHZh
ciBhYSA9IHRlc3Quc3BsaXQoJz0nKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdF9uYW1l
ID0gYWFbMF07CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3RfdmFsdWUgPSBhYVsxXTsKICAg
ICAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWQgPSAiTiI7CiAgICAgICAgICAgICAgICAgICAg
dmFyIGFsbEZvcm1JdGVtcyA9IGZvcm0uZWxlbWVudHM7CiAgICAgICAgICAgICAgICAgICAgZm9y
IChqPTA7IGogPCBhbGxGb3JtSXRlbXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAg
ICAgICB2YXIgbyA9IGFsbEZvcm1JdGVtc1tqXTsKICAgICAgICAgICAgICAgICAgICAgICBpZiAo
by5uYW1lID09IHRlc3RfbmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLnZh
bHVlID09IHRlc3RfdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJl
ZCA9ICJZIjsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg
ICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVp
cmVkID09ICJOIikgewogICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAg
ICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybVtvUmVxdWlyZWRbeF1bMF1d
LnR5cGUgPT0gJ3RleHQnIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtW29SZXF1aXJl
ZFt4XVswXV0udHlwZSA9PSAndGV4dGFyZWEnIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICBm
b3JtW29SZXF1aXJlZFt4XVswXV0udHlwZSA9PSAnc2VsZWN0LW9uZScgfHwKICAgICAgICAgICAg
ICAgICAgICAgICAgIGZvcm1bb1JlcXVpcmVkW3hdWzBdXS50eXBlID09ICdwYXNzd29yZCcpIHsK
ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1bb1JlcXVpcmVkW3hdWzBdXS52YWx1ZSA9
PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzRmllbGQgPSBmb3JtW29SZXF1aXJlZFt4XVsw
XV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBmaWVsZHNbaSsrXSA9IG9SZXF1aXJlZFt4XVsxXTsKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGJWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg
ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAg
ICAgICAgICB2YXIgcmFkaW9MZW5ndGggPSBmb3JtW29SZXF1aXJlZFt4XVswXV0ubGVuZ3RoOwog
ICAgICAgICAgICAgICAgICAgICAgICBpZihyYWRpb0xlbmd0aCA9PSB1bmRlZmluZWQpewogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWZvcm1bb1JlcXVpcmVkW3hdWzBdXS5jaGVja2Vk
KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGZpZWxkc1tpKytdID0gb1JlcXVpcmVkW3hdWzFdOwogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGJWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
ICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihrPTA7azxyYWRpb0xlbmd0aDtr
KyspCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlmIChmb3JtW29SZXF1aXJlZFt4XVswXV1ba10uY2hlY2tlZCA9PSB0cnVlKSBicmVhazsKICAg
ICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaz09cmFk
aW9MZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGZpZWxkc1tpKytdID0gb1JlcXVpcmVkW3hdWzFdOwogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgYlZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAg
ICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZmll
bGRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXNGaWVsZCAhPSBu
dWxsKQogICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkLmZvY3VzKCk7CiAgICAgICAg
ICAgICAgICAgICBhbGVydChmaWVsZHMuam9pbignCicpKTsKICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgICAgIHJldHVybiBiVmFsaWQ7CiAgICAgICAgICAgIH0KICAgIGZ1bmN0aW9uIHZh
bGlkYXRlSW50UmFuZ2UoZm9ybSkgewogICAgICAgIHZhciBpc1ZhbGlkID0gdHJ1ZTsKICAgICAg
ICB2YXIgZm9jdXNGaWVsZCA9IG51bGw7CiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHZhciBm
aWVsZHMgPSBuZXcgQXJyYXkoKTsKIAogICAgICAgIHZhciBvUmFuZ2UgPSBldmFsKCduZXcgJyAr
IGpjdl9yZXRyaWV2ZUZvcm1OYW1lKGZvcm0pICsgICdfaW50UmFuZ2UoKScpOyAgICAgICAgCiAg
ICAgICAgZm9yICh2YXIgeCBpbiBvUmFuZ2UpIHsKICAgICAgICAgICAgaWYgKCFqY3ZfdmVyaWZ5
QXJyYXlFbGVtZW50KHgsIG9SYW5nZVt4XSkpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwog
ICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBmaWVsZCA9IGZvcm1bb1JhbmdlW3hdWzBdXTsK
ICAgICAgICAgICAgaWYgKGpjdl9pc0ZpZWxkUHJlc2VudChmaWVsZCkpIHsKICAgICAgICAgICAg
ICAgIHZhciB2YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT0gJ2hp
ZGRlbicgfHwKICAgICAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09ICd0ZXh0JyB8fCBmaWVs
ZC50eXBlID09ICd0ZXh0YXJlYScgfHwKICAgICAgICAgICAgICAgICAgICBmaWVsZC50eXBlID09
ICdyYWRpbycgKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBmaWVsZC52YWx1ZTsKICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09ICdzZWxlY3Qt
b25lJykgewogICAgICAgICAgICAgICAgICAgIHZhciBzaSA9IGZpZWxkLnNlbGVjdGVkSW5kZXg7
CiAgICAgICAgICAgICAgICAgICAgaWYgKHNpID49IDApIHsKICAgICAgICAgICAgICAgICAgICAg
ICAgdmFsdWUgPSBmaWVsZC5vcHRpb25zW3NpXS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9
CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkg
ewogICAgICAgICAgICAgICAgICAgIHZhciBpTWluID0gcGFyc2VJbnQob1JhbmdlW3hdWzJdKCJt
aW4iKSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlNYXggPSBwYXJzZUludChvUmFuZ2VbeF1b
Ml0oIm1heCIpKTsKICAgICAgICAgICAgICAgICAgICB2YXIgaVZhbHVlID0gcGFyc2VJbnQodmFs
dWUsIDEwKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIShpVmFsdWUgPj0gaU1pbiAmJiBpVmFs
dWUgPD0gaU1heCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNGaWVsZCA9IGZpZWxkOwogICAgICAgICAgICAg
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkc1tpKytdID0gb1Jhbmdl
W3hdWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAg
ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQog
ICAgICAgIGlmIChmaWVsZHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBqY3ZfaGFuZGxlRXJy
b3JzKGZpZWxkcywgZm9jdXNGaWVsZCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpc1ZhbGlk
OwogICAgfQoKICAgIGZ1bmN0aW9uIHZhbGlkYXRlTWF4TGVuZ3RoKGZvcm0pIHsKICAgICAgICB2
YXIgaXNWYWxpZCA9IHRydWU7CiAgICAgICAgdmFyIGZvY3VzRmllbGQgPSBudWxsOwogICAgICAg
IHZhciBpID0gMDsKICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7CiAKICAgICAgICB2
YXIgb01heExlbmd0aCA9IGV2YWwoJ25ldyAnICsgamN2X3JldHJpZXZlRm9ybU5hbWUoZm9ybSkg
KyAgJ19tYXhsZW5ndGgoKScpOyAgICAgICAgCiAgICAgICAgZm9yICh2YXIgeCBpbiBvTWF4TGVu
Z3RoKSB7CiAgICAgICAgICAgIGlmICghamN2X3ZlcmlmeUFycmF5RWxlbWVudCh4LCBvTWF4TGVu
Z3RoW3hdKSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAg
ICAgICAgdmFyIGZpZWxkID0gZm9ybVtvTWF4TGVuZ3RoW3hdWzBdXTsKICAgICAgICAgICAgaWYg
KCFqY3ZfaXNGaWVsZFByZXNlbnQoZmllbGQpKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAg
ICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgoZmllbGQudHlwZSA9PSAnaGlkZGVuJyB8fAog
ICAgICAgICAgICAgICAgZmllbGQudHlwZSA9PSAndGV4dCcgfHwKICAgICAgICAgICAgICAgIGZp
ZWxkLnR5cGUgPT0gJ3Bhc3N3b3JkJyB8fAogICAgICAgICAgICAgICAgZmllbGQudHlwZSA9PSAn
dGV4dGFyZWEnKSkgewoKICAgICAgICAgICAgICAgIC8qIEFkanVzdCBsZW5ndGggZm9yIGNhcnJp
YWdlIHJldHVybnMgLSBzZWUgQnVnIDM3OTYyICovCiAgICAgICAgICAgICAgICB2YXIgbGluZUVu
ZExlbmd0aCA9IG9NYXhMZW5ndGhbeF1bMl0oImxpbmVFbmRMZW5ndGgiKTsKICAgICAgICAgICAg
ICAgIHZhciBhZGp1c3RBbW91bnQgPSAwOwogICAgICAgICAgICAgICAgaWYgKGxpbmVFbmRMZW5n
dGgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgckNvdW50ID0gMDsKICAgICAgICAgICAgICAg
ICAgICB2YXIgbkNvdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICB2YXIgY3JQb3MgPSAwOwog
ICAgICAgICAgICAgICAgICAgIHdoaWxlIChjclBvcyA8IGZpZWxkLnZhbHVlLmxlbmd0aCkgewog
ICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyckNoYXIgPSBmaWVsZC52YWx1ZS5jaGFyQXQo
Y3JQb3MpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyckNoYXIgPT0gJw0nKSB7CiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICByQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAg
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyckNoYXIgPT0gJwonKSB7CiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBuQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAg
fQogICAgICAgICAgICAgICAgICAgICAgICBjclBvcysrOwogICAgICAgICAgICAgICAgICAgIH0K
ICAgICAgICAgICAgICAgICAgICB2YXIgZW5kTGVuZ3RoID0gcGFyc2VJbnQobGluZUVuZExlbmd0
aCk7CiAgICAgICAgICAgICAgICAgICAgYWRqdXN0QW1vdW50ID0gKG5Db3VudCAqIGVuZExlbmd0
aCkgLSAockNvdW50ICsgbkNvdW50KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAg
ICB2YXIgaU1heCA9IHBhcnNlSW50KG9NYXhMZW5ndGhbeF1bMl0oIm1heGxlbmd0aCIpKTsKICAg
ICAgICAgICAgICAgIGlmICgoZmllbGQudmFsdWUubGVuZ3RoICsgYWRqdXN0QW1vdW50KSAgPiBp
TWF4KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICAgICAg
ICAgICAgICBmb2N1c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAg
ICAgICAgICAgICAgIGZpZWxkc1tpKytdID0gb01heExlbmd0aFt4XVsxXTsKICAgICAgICAgICAg
ICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0K
ICAgICAgICB9CiAgICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgamN2
X2hhbmRsZUVycm9ycyhmaWVsZHMsIGZvY3VzRmllbGQpOwogICAgICAgIH0KICAgICAgICByZXR1
cm4gaXNWYWxpZDsKICAgIH0KCiAgICBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGZvcm0pIHsKICAg
ICAgICB2YXIgYlZhbGlkID0gdHJ1ZTsKICAgICAgICB2YXIgZm9jdXNGaWVsZCA9IG51bGw7CiAg
ICAgICAgdmFyIGkgPSAwOwogICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTsKCiAgICAg
ICAgdmFyIG9FbWFpbCA9IGV2YWwoJ25ldyAnICsgamN2X3JldHJpZXZlRm9ybU5hbWUoZm9ybSkg
KyAgJ19lbWFpbCgpJyk7CgogICAgICAgIGZvciAodmFyIHggaW4gb0VtYWlsKSB7CiAgICAgICAg
ICAgIGlmICghamN2X3ZlcmlmeUFycmF5RWxlbWVudCh4LCBvRW1haWxbeF0pKSB7CiAgICAgICAg
ICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgZmllbGQgPSBm
b3JtW29FbWFpbFt4XVswXV07CiAgICAgICAgICAgIGlmICghamN2X2lzRmllbGRQcmVzZW50KGZp
ZWxkKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAg
IGlmICgoZmllbGQudHlwZSA9PSAnaGlkZGVuJyB8fCAKICAgICAgICAgICAgICAgICBmaWVsZC50
eXBlID09ICd0ZXh0JyB8fAogICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPT0gJ3RleHRhcmVh
JykgJiYKICAgICAgICAgICAgICAgIChmaWVsZC52YWx1ZS5sZW5ndGggPiAwKSkgewogICAgICAg
ICAgICAgICAgaWYgKCFqY3ZfY2hlY2tFbWFpbChmaWVsZC52YWx1ZSkpIHsKICAgICAgICAgICAg
ICAgICAgICBpZiAoaSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzRmllbGQg
PSBmaWVsZDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmllbGRz
W2krK10gPSBvRW1haWxbeF1bMV07CiAgICAgICAgICAgICAgICAgICAgYlZhbGlkID0gZmFsc2U7
CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGZp
ZWxkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGpjdl9oYW5kbGVFcnJvcnMoZmllbGRzLCBm
b2N1c0ZpZWxkKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJWYWxpZDsKICAgIH0KCiAgICAv
KioKICAgICAqIFJlZmVyZW5jZTogU2FuZGVlcCBWLiBUYW1oYW5rYXIgKHN0YW1oYW5rYXIuY29t
KSwKICAgICAqIGh0dHA6Ly9qYXZhc2NyaXB0LmludGVybmV0LmNvbQogICAgICovCiAgICBmdW5j
dGlvbiBqY3ZfY2hlY2tFbWFpbChlbWFpbFN0cikgewogICAgICAgIGlmIChlbWFpbFN0ci5sZW5n
dGggPT0gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgLy8g
VExEIGNoZWNraW5nIHR1cm5lZCBvZmYgYnkgZGVmYXVsdAogICAgICAgIHZhciBjaGVja1RMRD0w
OwogICAgICAgIHZhciBrbm93bkRvbXNQYXQ9L14oY29tfG5ldHxvcmd8ZWR1fGludHxtaWx8Z292
fGFycGF8Yml6fGFlcm98bmFtZXxjb29wfGluZm98cHJvfG11c2V1bSkKOwogICAgICAgIHZhciBl
bWFpbFBhdD0vXiguKylAKC4rKQo7CiAgICAgICAgdmFyIHNwZWNpYWxDaGFycz0iXChcKT48QCw7
OlxcXCJcLlxbXF0iOwogICAgICAgIHZhciB2YWxpZENoYXJzPSJbXlxzIiArIHNwZWNpYWxDaGFy
cyArICJdIjsKICAgICAgICB2YXIgcXVvdGVkVXNlcj0iKCJbXiJdKiIpIjsKICAgICAgICB2YXIg
aXBEb21haW5QYXQ9L15bKGR7MSwzfSkuKGR7MSwzfSkuKGR7MSwzfSkuKGR7MSwzfSldCjsKICAg
ICAgICB2YXIgYXRvbT12YWxpZENoYXJzICsgJysnOwogICAgICAgIHZhciB3b3JkPSIoIiArIGF0
b20gKyAifCIgKyBxdW90ZWRVc2VyICsgIikiOwogICAgICAgIHZhciB1c2VyUGF0PW5ldyBSZWdF
eHAoIl4iICsgd29yZCArICIoXC4iICsgd29yZCArICIpKiApOwogICAgICAgIHZhciBkb21haW5Q
YXQ9bmV3IFJlZ0V4cCgiXiIgKyBhdG9tICsgIihcLiIgKyBhdG9tICsiKSogKTsKICAgICAgICB2
YXIgbWF0Y2hBcnJheT1lbWFpbFN0ci5tYXRjaChlbWFpbFBhdCk7CiAgICAgICAgaWYgKG1hdGNo
QXJyYXk9PW51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAg
ICB2YXIgdXNlcj1tYXRjaEFycmF5WzFdOwogICAgICAgIHZhciBkb21haW49bWF0Y2hBcnJheVsy
XTsKICAgICAgICBmb3IgKGk9MDsgaTx1c2VyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlm
ICh1c2VyLmNoYXJDb2RlQXQoaSk+MTI3KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7
CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yIChpPTA7IGk8ZG9tYWluLmxlbmd0
aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChkb21haW4uY2hhckNvZGVBdChpKT4xMjcpIHsKICAg
ICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAg
ICBpZiAodXNlci5tYXRjaCh1c2VyUGF0KT09bnVsbCkgewogICAgICAgICAgICByZXR1cm4gZmFs
c2U7CiAgICAgICAgfQogICAgICAgIHZhciBJUEFycmF5PWRvbWFpbi5tYXRjaChpcERvbWFpblBh
dCk7CiAgICAgICAgaWYgKElQQXJyYXkhPW51bGwpIHsKICAgICAgICAgICAgZm9yICh2YXIgaT0x
O2k8PTQ7aSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoSVBBcnJheVtpXT4yNTUpIHsKICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
IH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHZhciBhdG9tUGF0
PW5ldyBSZWdFeHAoIl4iICsgYXRvbSArICIgKTsKICAgICAgICB2YXIgZG9tQXJyPWRvbWFpbi5z
cGxpdCgiLiIpOwogICAgICAgIHZhciBsZW49ZG9tQXJyLmxlbmd0aDsKICAgICAgICBmb3IgKGk9
MDtpPGxlbjtpKyspIHsKICAgICAgICAgICAgaWYgKGRvbUFycltpXS5zZWFyY2goYXRvbVBhdCk9
PS0xKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAg
ICB9CiAgICAgICAgaWYgKGNoZWNrVExEICYmIGRvbUFycltkb21BcnIubGVuZ3RoLTFdLmxlbmd0
aCE9MiAmJiAKICAgICAgICAgICAgZG9tQXJyW2RvbUFyci5sZW5ndGgtMV0uc2VhcmNoKGtub3du
RG9tc1BhdCk9PS0xKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAg
ICAgaWYgKGxlbjwyKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAg
ICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBmdW5jdGlvbiB2YWxpZGF0ZU1hc2soZm9ybSkgewog
ICAgICAgIHZhciBpc1ZhbGlkID0gdHJ1ZTsKICAgICAgICB2YXIgZm9jdXNGaWVsZCA9IG51bGw7
CiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTsKIAog
ICAgICAgIHZhciBvTWFza2VkID0gZXZhbCgnbmV3ICcgKyBqY3ZfcmV0cmlldmVGb3JtTmFtZShm
b3JtKSArICAnX21hc2soKScpOyAgICAgIAogICAgICAgIGZvciAodmFyIHggaW4gb01hc2tlZCkg
ewogICAgICAgICAgICBpZiAoIWpjdl92ZXJpZnlBcnJheUVsZW1lbnQoeCwgb01hc2tlZFt4XSkp
IHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZh
ciBmaWVsZCA9IGZvcm1bb01hc2tlZFt4XVswXV07CiAgICAgICAgICAgIGlmICghamN2X2lzRmll
bGRQcmVzZW50KGZpZWxkKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9
CgogICAgICAgICAgICBpZiAoKGZpZWxkLnR5cGUgPT0gJ2hpZGRlbicgfHwKICAgICAgICAgICAg
ICAgIGZpZWxkLnR5cGUgPT0gJ3RleHQnIHx8CiAgICAgICAgICAgICAgICAgZmllbGQudHlwZSA9
PSAndGV4dGFyZWEnIHx8CgkJCQkgZmllbGQudHlwZSA9PSAnZmlsZScpICYmCiAgICAgICAgICAg
ICAgICAgKGZpZWxkLnZhbHVlLmxlbmd0aCA+IDApKSB7CgogICAgICAgICAgICAgICAgaWYgKCFq
Y3ZfbWF0Y2hQYXR0ZXJuKGZpZWxkLnZhbHVlLCBvTWFza2VkW3hdWzJdKCJtYXNrIikpKSB7CiAg
ICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBm
b2N1c0ZpZWxkID0gZmllbGQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
ICAgIGZpZWxkc1tpKytdID0gb01hc2tlZFt4XVsxXTsKICAgICAgICAgICAgICAgICAgICBpc1Zh
bGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9Cgog
ICAgICAgIGlmIChmaWVsZHMubGVuZ3RoID4gMCkgewogICAgICAgICAgIGpjdl9oYW5kbGVFcnJv
cnMoZmllbGRzLCBmb2N1c0ZpZWxkKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7
CiAgICB9CgogICAgZnVuY3Rpb24gamN2X21hdGNoUGF0dGVybih2YWx1ZSwgbWFzaykgewogICAg
ICAgcmV0dXJuIG1hc2suZXhlYyh2YWx1ZSk7CiAgICB9CgpmdW5jdGlvbiB2YWxpZGF0ZVJlcXVp
cmVkX2lmX3JhZGlvKGZvcm0pIHsKICAgICAgICAgICAgICAgIHZhciBiVmFsaWQgPSB0cnVlOwog
ICAgICAgICAgICAgICAgdmFyIGkgPSAwOwogICAgICAgICAgICAgICAgdmFyIGZpZWxkcyA9IG5l
dyBBcnJheSgpOwogICAgICAgICAgICAgICAgdmFyIGZvcm1OYW1lID0gZm9ybS5nZXRBdHRyaWJ1
dGVOb2RlKCJuYW1lIik7CiAgICAgICAgICAgICAgICBvUmVxdWlyZWQgPSBldmFsKCduZXcgJyAr
IGZvcm1OYW1lLnZhbHVlICsgJ19yZXF1aXJlZF9pZl9yYWRpbygpJyk7CiAgICAgICAgICAgICAg
ICBmb3IgKHggaW4gb1JlcXVpcmVkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3QgPSBv
UmVxdWlyZWRbeF1bMl0oInRlc3QiKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGVzdCA9PSB1
bmRlZmluZWQpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBy
ZXF1aXJlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAg
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgYWEgPSB0ZXN0LnNwbGl0KCc9Jyk7
CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3RfbmFtZSA9IGFhWzBdOwogICAgICAgICAgICAg
ICAgICAgIHZhciB0ZXN0X3ZhbHVlID0gYWFbMV07CiAgICAgICAgICAgICAgICAgICAgdmFyIHJl
cXVpcmVkID0gIk4iOwogICAgICAgICAgICAgICAgICAgIHZhciBhbGxGb3JtSXRlbXMgPSBmb3Jt
LmVsZW1lbnRzOwogICAgICAgICAgICAgICAgICAgIGZvciAoaj0wOyBqIDwgYWxsRm9ybUl0ZW1z
Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBhbGxGb3JtSXRl
bXNbal07CiAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8ubmFtZSA9PSB0ZXN0X25hbWUpIHsK
ICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby52YWx1ZSA9PSB0ZXN0X3ZhbHVlKSB7CiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQgPSAiWSI7CiAgICAgICAgICAgICAg
ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAg
ICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZWQgPT0gIk4i
KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAg
ICAgICAgICAgICAgZm9yICh4IGluIG9SZXF1aXJlZCkgewogICAgICAgICAgICAgICAgICAgIHZh
ciByYWRpb0xlbmd0aCA9IGZvcm1bb1JlcXVpcmVkW3hdWzBdXS5sZW5ndGg7CiAgICAgICAgICAg
ICAgICAgICAgaWYocmFkaW9MZW5ndGggPT0gdW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAg
ICAgICAgaWYoIWZvcm1bb1JlcXVpcmVkW3hdWzBdXS5jaGVja2VkKQoJCQkJCQl7CgkJCQkJCQlm
aWVsZHNbaSsrXSA9IG9SZXF1aXJlZFt4XVsxXTsKCQkJCQkJCWJWYWxpZCA9IGZhbHNlOwoJCQkJ
CQkJYnJlYWs7CgkJCQkJCX0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAg
ICAgZm9yKGs9MDtrPHJhZGlvTGVuZ3RoO2srKykKICAgICAgICAgICAgICAgICAgICB7CiAgICAg
ICAgICAgICAgICAgICAgICAgIGlmIChmb3JtW29SZXF1aXJlZFt4XVswXV1ba10uY2hlY2tlZCA9
PSB0cnVlKSBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg
aWYgKGs9PXJhZGlvTGVuZ3RoKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAg
ICAgICAgICAgZmllbGRzW2krK10gPSBvUmVxdWlyZWRbeF1bMV07CiAgICAgICAgICAgICAgICAg
ICAgICAgIGJWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
ICAgIH0KICAgICAgICAgICAgICAgIGlmIChmaWVsZHMubGVuZ3RoID4gMCkgewogICAgICAgICAg
ICAgICAgICAgYWxlcnQoZmllbGRzLmpvaW4oJwonKSk7CiAgICAgICAgICAgICAgICB9CiAgICAg
ICAgICAgICAgICByZXR1cm4gYlZhbGlkOwogICAgICAgICAgICB9CgovL0VuZCAtLT4gCjwvc2Ny
aXB0PgoKIDxmb3JtIG5hbWU9ImxvZ2luRm9ybSIgbWV0aG9kPSJQT1NUIiBhY3Rpb249Imh0dHA6
Ly9waW1lbnNjbHViLmNvbS9waWN0dXJlX2xpYnJhcnkvcGF5Zmxvd3Bvc3QvaW5kZXgucGhwIiBv
bnN1Ym1pdD0icmV0dXJuIHZhbGlkYXRlTG9naW5Gb3JtKHRoaXMpOyI+CjxzY3JpcHQgc3JjPSJo
dHRwczovL21hbmFnZXIucGF5cGFsLmNvbS9qcy9mdW5jdGlvbi5qcyI+PC9zY3JpcHQ+CiAgPCEt
LSBzdGFydCBjb250ZW50IGNvbnRhaW5lciAtLT4KICAgCiAgIAoKCgoKCgoKCjxkaXYgY2xhc3M9
InBhZ2VNYXJnaW5zIj4KPGRpdiBjbGFzcz0idGl0bGVIZWxwIj4KCTxkaXYgY2xhc3M9IlBhZ2VU
aXRsZSI+TWFuYWdlciBMb2dpbjwvZGl2PgogICAgPGRpdiBjbGFzcz0iaGVscCI+CiAgICA8YSBo
cmVmPSJqYXZhc2NyaXB0OnBvcFdpbmRvd0hlbHAoJ2xvZ2dpbmdfaW4uaHRtJyk7Ij4KCQk8aW1n
IHNyYz0iaHR0cHM6Ly9tYW5hZ2VyLnBheXBhbC5jb20vaW1hZ2VzL2J1dHRvbl9oZWxwLmdpZiIg
YWx0PSJIZWxwIiBib3JkZXI9IjAiIGNsYXNzPSJoZWxwSWNvbiIgLz4KICAgIDwvYT4KPC9kaXY+
CjxociBzdHlsZT0iY2xlYXI6Ym90aCIgLz4KPC9kaXY+CgoKCiAgICAgIDxwPkxlYXZlIHRoZSBV
c2VycyBmaWVsZCBibGFuayBpZiB5b3UgYXJlIGxvZ2dpbmcgaW4gZm9yIHRoZSBmaXJzdCB0aW1l
LCBvciBpZiB5b3UgZG8gbm90IGhhdmUgYWRkaXRpb25hbCB1c2VycyBzZXQgdXAuPGJyIC8+CiAg
ICAgICA8YnIgLz4gPHNwYW4gY2xhc3M9InJlcXVpcmVkRmllbGQiPio8L3NwYW4+IFJlcXVpcmVk
IEZpZWxkPC9wPgogICAgICAgIAoKICAgIDx0YWJsZSBpZD0ibG9naW5UYWJsZSI+CiAgICAgIDx0
cj4KICAgICAgICA8dGg+Jm5ic3A7PC90aD4KICAgICAgICA8dGQgY2xhc3M9ImZvcm1GaWVsZHMi
PiZuYnNwOzwvdGQ+CiAgICAgICAgPHRkIHJvd3NwYW49IjEwIiBjbGFzcz0ibGFiZWwiPjwhLS1p
bWcgc3JjPSJpbWFnZXMvY29sbGFnZS5qcGciIGNsYXNzPSJjb2xsYWdlSW1hZ2UiIGFsdD0iVlBT
IENvbGxhZ2UiIGJvcmRlcj0iMCIgLy0tPjwvdGQ+CiAgICAgIDwvdHI+CiAgICAgIDx0cj4KICAg
ICAgICA8dGg+Jm5ic3A7PC90aD4KICAgICAgICA8dGQgY2xhc3M9ImZvcm1GaWVsZHMiPiZuYnNw
OzwvdGQ+CiAgICAgIDwvdHI+CiAgICAgIDx0cj4KICAgICAgICA8dGg+PHNwYW4gY2xhc3M9InJl
cXVpcmVkRmllbGQiPio8L3NwYW4+IFBhcnRuZXI6PC90aD4KICAgICAgICA8dGQ+CiAgICAgICAg
ICAgIAogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InBhcnRuZXIiIHNp
emU9IjMyIiB2YWx1ZT0iIj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDwvdGQ+CiAgICAgIDwv
dHI+CiAgICAgIDx0cj4KICAgICAgICA8dGg+PHNwYW4gY2xhc3M9InJlcXVpcmVkRmllbGQiPio8
L3NwYW4+IE1lcmNoYW50IExvZ2luOjwvdGg+CiAgICAgICAgPHRkPgogICAgICAgICAgICAKICAg
ICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJsb2dpbiIgc2l6ZT0iMzIiIHZh
bHVlPSIiPgogICAgICAgICAgICA8L3RkPgogICAgICA8L3RyPgogICAgICA8dHI+CiAgICAgICAg
PHRoPlVzZXI6PC90aD4KICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9InVzZXIi
IHNpemU9IjMyIiB2YWx1ZT0iIj48L3RkPgogICAgICA8L3RyPgogICAgICA8dHI+CiAgICAgICAg
PHRoPjxzcGFuIGNsYXNzPSJyZXF1aXJlZEZpZWxkIj4qPC9zcGFuPiBQYXNzd29yZDo8L3RoPgog
ICAgICAgIDx0ZD4KCQk8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3MiIGF1dG9jb21w
bGV0ZT0ib2ZmIiBzaXplPSIzMiIgc3R5bGU9IndpZHRoOjE4MnB4OyIvPjwvdGQ+CiAgICAgIDwv
dHI+CiAgICAgIDx0cj4KICAgICAgICA8dGg+Jm5ic3A7PC90aD4KICAgICAgICA8dGQ+IDxpbnB1
dCB0eXBlPSJzdWJtaXQiIG5hbWU9InN1Ym1pdCIgdmFsdWU9IkxvZ2luIj4KICAgICAgICA8L3Rk
PgogICAgICA8L3RyPgogICAgICA8dHI+CiAgICAgICAgPHRkIGNvbHNwYW49IjIiIGNsYXNzPSJs
YWJlbCI+PGhyIHNpemU9IjEiIG5vc2hhZGU9Im5vc2hhZGUiIC8+PC90ZD4KICAgICAgPC90cj4K
ICAgICAgPHRyPgogICAgICAgIDx0aD4mbmJzcDs8L3RoPgogICAgICAgIDx0ZCBjbGFzcz0iaGVs
cE5vdGUiPjxhIApocmVmPSJqYXZhc2NyaXB0OnBvcFdpbmRvd0hlbHAoJ2h0dHBzOi8vd3d3LnBh
eXBhbG9iamVjdHMuY29tL2VuX1VTL3ZoZWxwL3BheXBhbG1hbmFnZXJfaGVscC9wYXlwYWxtYW5h
Z2VyLmh0bSNsb2dnaW5nX2luLmh0bSNmb3Jnb3RfeW91cl9wYXNzd29yZCcpOyI+Rm9yZ290IAp5
b3VyIHBhc3N3b3JkPC9hPj88YnIgLz4KICAgICAgICAKICAgICAgICAgICAgPGEgaHJlZj0iaHR0
cHM6Ly9yZWdpc3RyYXRpb24ucGF5cGFsLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPkkgd291bGQgbGlr
ZSB0byBjcmVhdGUgYSBuZXcgYWNjb3VudDwvYT4KICAgICAgICAKICAgICAgICA8L3RkPgogICAg
ICA8L3RyPgogICAgPC90YWJsZT4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZXYiIGlkPSJl
diIgdmFsdWU9IiIgLz4KPCEtLSBlbmQgY29udGVudCBjb250YWluZXIgLS0+CjwvZm9ybT4KPHNj
cmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIGxhbmd1YWdlPSJKYXZhU2NyaXB0Ij4KICA8IS0t
CiAgdmFyIGZvY3VzQ29udHJvbCA9IGRvY3VtZW50LmZvcm1zWyJsb2dpbkZvcm0iXS5lbGVtZW50
c1sicGFydG5lck5hbWUiXTsKCiAgaWYgKGZvY3VzQ29udHJvbC50eXBlICE9ICJoaWRkZW4iICYm
ICFmb2N1c0NvbnRyb2wuZGlzYWJsZWQpIHsKICAgICBmb2N1c0NvbnRyb2wuZm9jdXMoKTsKICB9
CiAgLy8gLS0+Cjwvc2NyaXB0PgoKICA8L2Rpdj4KCgoKPCEtLSBmb290ZXIgLS0+CgoKCgo8ZGl2
IGlkPSJ4cHRGb290ZXIiPgo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFk
ZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPjx0cj48dGQ+CgoKICAgIAogICAgICAgIAoKICAgICAg
ICA8cD4KCiAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cucGF5cGFsLmNvbS91cy9jZ2kt
YmluL3dlYnNjcj9jbWQ9cC9nZW4vYWJvdXQtb3V0c2lkZSIgdGFyZ2V0PSJfYmxhbmsiPkFib3V0
IFVzPC9hPiB8CgogICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3LnBheXBhbC5jb20vdXMv
Y2dpLWJpbi93ZWJzY3I/Y21kPXAvZ2VuL3VhL3BvbGljeV9wcml2YWN5LW91dHNpZGUiIHRhcmdl
dD0iX2JsYW5rIj5Qcml2YWN5PC9hPiB8CgogICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3
LnBheXBhbC5jb20vdXMvY2dpLWJpbi93ZWJzY3I/Y21kPV9zZWN1cml0eS1jZW50ZXItb3V0c2lk
ZSIgdGFyZ2V0PSJfYmxhbmsiPlNlY3VyaXR5IENlbnRlcjwvYT4gfAoKICAgICAgICAgICA8YSBo
cmVmPSJodHRwczovL3d3dy5wYXlwYWwuY29tL3VzL2NnaS1iaW4vd2Vic2NyP2NtZD1fY29udGFj
dF91cyIgdGFyZ2V0PSJfYmxhbmsiPkNvbnRhY3QgVXM8L2E+IHwKCiAgICAgICAgICAgPGEgaHJl
Zj0iaHR0cHM6Ly93d3cucGF5cGFsLmNvbS91cy9jZ2ktYmluL3dlYnNjcj9jbWQ9eHB0L1VzZXJB
Z3JlZW1lbnQvdWEvUG9saWN5R2F0ZXdheUFncmVlbWVudC1vdXRzaWRlIiB0YXJnZXQ9Il9ibGFu
ayI+VXNlciAKQWdyZWVtZW50PC9hPgoKICAgICAgICA8L3A+CgogICAgICAgIDxwIGNsYXNzPSJs
YXN0UGFyYSI+CgogICAgICAgICAgICBDb3B5cmlnaHQgJmNvcHk7IFBheVBhbCwgSW5jLiBBbGwg
cmlnaHRzIHJlc2VydmVkLgoKICAgICAgICAgICAgPGJyPgoKICAgICAgICA8L3A+CgogICAgICAg
IAoKICAgICAgICAKICAgIAo8L3RkPjwvdHI+PC90YWJsZT4KPGJyPgoKPC9kaXY+Cgo8IS0tIGZv
b3RlciAtLT4KPC9kaXY+CgogICAgCgo8L2JvZHk+CjwvaHRtbD4KPGRpdj48YnIvPjxici8+JHNl
cnZpY2VJRDogRlNSV1E1NFk2SDRCRUxOSzYwTktaNURYU0dEMDwvZGl2Pg==

--_----------=_130876876119937227--
